webpackJsonp([1,5],{"+Lwu":function(e,t,r){"use strict";var n=r("3j3K"),i=r("kZql");r.d(t,"a",function(){return o});var s=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(){function e(e){this.zone=e,this.serverUpdated$=new n.EventEmitter}return e.prototype.connect=function(){var e=this;this.connection=$.hubConnection(this.getSignalRBaseUrl()),this.proxy=this.connection.createHubProxy("ServerUpdateHub"),this.proxy.on("serverUpdateNotification",function(t){e.zone.run(function(){e.serverUpdated$.emit(t)})}),this.connection.start().done(function(){return console.log("Now connected, connection ID="+e.connection.id)}).fail(function(){return console.log("Could not connect")})},e.prototype.getSignalRBaseUrl=function(){return i.a.signalrBaseUrl.replace(/\<protocol\>/gi,window.location.protocol).replace(/\<hostname\>/gi,window.location.hostname).replace(/\<webapi_port\>/gi,"undefined"!=typeof config?config.webapi.port:"")},e}();o=s([r.i(n.Injectable)(),a("design:paramtypes",["function"==typeof(c=void 0!==n.NgZone&&n.NgZone)&&c||Object])],o);var c},"+qYp":function(e,t,r){"use strict";var n=r("3j3K"),i=r("ATz5"),s=r("3MNG"),a=(r.n(s),r("+Lwu"));r.d(t,"a",function(){return l});var o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,r){this.dataService=e,this.messageService=t,this.notificationsService=r,this.menuOption=void 0}return e.prototype.ngOnInit=function(){var e=this;this.serverUpdatedSubscription=this.messageService.serverUpdated$.subscribe(function(t){return e.showServerUpdateNotification(t)}),this.menuOptionSubscription=this.dataService.MenuOption.subscribe(function(t){return e.menuOption=t})},e.prototype.ngOnDestroy=function(){this.serverUpdatedSubscription.unsubscribe(),this.menuOptionSubscription.unsubscribe()},e.prototype.showServerUpdateNotification=function(e){this.notificationsService.success("Server Update",e+" was updated; Reloading data...",{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0})},e.prototype.isMenuActive=function(e){return this.menuOption==e},e}();l=o([r.i(n.Component)({selector:"app-access-denied",template:r("1DTO"),styles:[r("aijx")]}),c("design:paramtypes",["function"==typeof(d=void 0!==i.a&&i.a)&&d||Object,"function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(p=void 0!==s.NotificationsService&&s.NotificationsService)&&p||Object])],l);var d,u,p},"+rAa":function(e,t,r){"use strict";function n(e,t,r,n){var i=a(e,t,r);if(void 0!=i)return i;var s=Math.pow(10,n),o=void 0!=n?Math.round(e*s)/s:e,c=void 0!=n?Math.round(t*s)/s:t;return o>c?r?1:-1:o<c?r?-1:1:0}function i(e,t,r){var n=a(e,t,r);return void 0!=n?n:e>t?r?1:-1:e<t?r?-1:1:0}function s(e,t,r){var n=a(e,t,r);if(void 0!=n)return n;var i=e.localeCompare(t);return r?i:1==i?-1:-1==i?1:0}function a(e,t,r){return null==e&&null==t?0:null==e?1:null==t?-1:void 0}function o(e,t){var r=e.createElement("textarea");r.style.position="fixed",r.style.left="0",r.style.top="0",r.style.opacity="0",r.value=t,e.body.appendChild(r),r.focus(),r.select(),e.execCommand("copy"),e.body.removeChild(r)}function c(e,t,r){var n,i,s,a,o,c,l,d;switch(a=Math.floor(6*e),o=6*e-a,c=r*(1-t),l=r*(1-o*t),d=r*(1-(1-o)*t),a%6){case 0:n=r,i=d,s=c;break;case 1:n=l,i=r,s=c;break;case 2:n=c,i=r,s=d;break;case 3:n=c,i=l,s=r;break;case 4:n=d,i=c,s=r;break;case 5:n=r,i=c,s=l}return{r:Math.round(255*n),g:Math.round(255*i),b:Math.round(255*s)}}t.d=n,t.c=i,t.b=s,t.a=o,t.e=c},"+w0e":function(e,t,r){"use strict";var n=r("3j3K"),i=r("5oXY"),s=r("rCTf"),a=(r.n(s),r("ATz5"));r.d(t,"a",function(){return l});var o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.dataService=e,this.router=t}return e.prototype.canActivate=function(e,t){var r=this;return s.Observable.fromPromise(this.dataService.getServers().then(function(t){if(t){var n=e.params.playerid;return r.dataService.hasFeatureAccess("pages",e.data.name,n)?"access":"noaccess"}return"connectionerror"}).catch(function(){return"connectionerror"})).map(function(e){return"noaccess"==e?r.router.navigateByUrl("/accessdenied",{skipLocationChange:!0}):"connectionerror"==e&&r.router.navigateByUrl("/connectionerror",{skipLocationChange:!0}),"access"==e})},e}();l=o([r.i(n.Injectable)(),c("design:paramtypes",["function"==typeof(d=void 0!==a.a&&a.a)&&d||Object,"function"==typeof(u=void 0!==i.b&&i.b)&&u||Object])],l);var d,u},"/Wuq":function(e,t){e.exports='<section *ngIf="(loaded == false &amp;&amp; !isMenuActive(\'structures\')) || loadedStructures == false &amp;&amp; isMenuActive(\'structures\')" class="w3-container">\r\n  <div class="w3-panel theme-l2">\r\n    <h3 class="theme-text-l1-light">Loading...</h3>\r\n  </div> \r\n</section>\r\n<section *ngIf="(loaded == true &amp;&amp; server == null &amp;&amp; !isMenuActive(\'structures\')) || (loadedStructures == true &amp;&amp; structures == null &amp;&amp; isMenuActive(\'structures\'))" class="w3-container">\r\n  <div class="w3-panel w3-red">\r\n    <h3>Error!</h3>\r\n    <p>No data could be loaded for the given server key.</p>\r\n  </div> \r\n</section>\r\n<section *ngIf="isMenuActive(\'players\') &amp;&amp; server &amp;&amp; dataService.hasFeatureAccess(\'admin-server\', \'players\')" class="w3-container">\r\n  <h2 class="theme-text-d1">Players</h2>\r\n  <div class="w3-card-4 w3-responsive">\r\n    <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Steam Id</th>\r\n          <th>Character Id</th>\r\n          \x3c!--<th>Steam Name</th>--\x3e\r\n          <th>Character Name</th>\r\n          <th>Tribe Name</th>\r\n          <th>Tribe Id</th>\r\n          <th>Structures</th>\r\n          <th>Creatures</th>\r\n          <th>Last Active</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let player of server.Players">\r\n          <td>{{player.FakeSteamId || player.SteamId}}</td>\r\n          <td>{{player.Id}}</td>\r\n          \x3c!--<td>{{player.SteamName}}</td>--\x3e\r\n          <td><a *ngIf="dataService.hasFeatureAccess(\'pages\', \'player\', player.SteamId); else players_player_no_link" [routerLink]="\'/player/\' + player.SteamId">{{player.CharacterName}}</a><ng-template #players_player_no_link>{{player.CharacterName}}</ng-template></td>\r\n          <td>{{player.TribeName}}</td>\r\n          <td>{{player.TribeId}}</td>\r\n          <td>{{player.StructureCount}}</td>\r\n          <td>{{player.CreatureCount}}</td>\r\n          <td>{{dataService.toRelativeDate(player.LastActiveTime)}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'tribes\') &amp;&amp; server &amp;&amp; dataService.hasFeatureAccess(\'admin-server\', \'tribes\')" class="w3-container">\r\n  <h2 class="theme-text-d1">Tribes</h2>\r\n  <div class="w3-card-4 w3-responsive">\r\n    <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Id</th>\r\n          <th>Name</th>\r\n          <th>Members</th>\r\n          <th>Structures</th>\r\n          <th>Creatures</th>\r\n          <th>Last Active</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let tribe of server.Tribes">\r\n          <td>{{tribe.Id}}</td>\r\n          <td>{{tribe.Name}}</td>\r\n          <td><span *ngFor="let member of tribe.MemberSteamIds; let last = last"><a *ngIf="dataService.hasFeatureAccess(\'pages\', \'player\', member); else tribes_player_no_link" [routerLink]="\'/player/\' + member">{{getTribeMember(member)?.CharacterName || member}}</a><ng-template #tribes_player_no_link>{{getTribeMember(member)?.CharacterName || member}}</ng-template><span *ngIf="!last">, </span></span></td>\r\n          <td>{{tribe.StructureCount}}</td>\r\n          <td>{{tribe.CreatureCount}}</td>\r\n          <td>{{dataService.toRelativeDate(tribe.LastActiveTime)}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'structures\') &amp;&amp; structures &amp;&amp; dataService.hasFeatureAccess(\'admin-server\', \'structures\')" class="w3-container">\r\n  <arkmap-structures [serverKey]="serverKey" [mapName]="structures?.MapName" [structures]="structures"></arkmap-structures>\r\n</section>\r\n\r\n<section *ngIf="isMenuActive(\'fertilized-eggs\') &amp;&amp; loadedFertilizedEggs == false &amp;&amp; server &amp;&amp; dataService.hasFeatureAccess(\'admin-server\', \'fertilized-eggs\')" class="w3-container">\r\n  <div class="w3-panel theme-l2">\r\n    <h3 class="theme-text-l1-light">Loading...</h3>\r\n  </div> \r\n</section>\r\n\r\n<section *ngIf="loadedFertilizedEggs == true &amp;&amp;isMenuActive(\'fertilized-eggs\') &amp;&amp; server &amp;&amp; dataService.hasFeatureAccess(\'admin-server\', \'fertilized-eggs\')" class="w3-container">\r\n  <div class="w3-cell-row">\r\n      <div class="w3-cell"><h2 class="theme-text-d1 w3-left">Egg Summary</h2></div>\r\n      <div class="w3-cell w3-cell-middle" *ngIf="dataService.hasFeatureAccess(\'admin-server\', \'structures-rcon\')"><confirm-button (callback)="saveWorld($event)" class="w3-right" [width]="undefined">Save World</confirm-button></div>\r\n    </div>\r\n\r\n  <div class="w3-card-4 w3-margin-bottom w3-responsive">  \r\n      <header class="w3-container theme-d1">\r\n        <h3>Summary</h3>\r\n      </header>\r\n      <div *ngIf="fertilizedEggsCount != 0 || spoiledEggsCount != 0" class="w3-container theme-l1">\r\n        <p>Total Egg<span *ngIf="(totalEggCount) > 1">s</span>: {{totalEggCount}}</p>\r\n        <p>Fertilized Egg<span *ngIf="fertilizedEggsCount > 1">s</span>: {{fertilizedEggsCount}}</p>\r\n        <p>Spoiled Egg<span *ngIf="spoiledEggsCount > 1">s</span>: {{spoiledEggsCount}}</p>\r\n      </div>\r\n      <div *ngIf="fertilizedEggsCount == 0 && spoiledEggsCount == 0" class="w3-container theme-l1">\r\n        <p>There are no fertilized eggs on the map</p>\r\n      </div>\r\n  </div>\r\n\r\n  <div *ngIf="fertilizedEggsCount &amp;&amp; fertilizedEggsCount != 0" class="w3-cell-row">\r\n      <div class="w3-cell"><h2 class="theme-text-d1 w3-left">Fertilized Eggs</h2></div>\r\n      <div class="w3-cell w3-cell-middle" *ngIf="dataService.hasFeatureAccess(\'admin-server\', \'structures-rcon\')"><confirm-button (callback)="destroyAllEggs($event)" class="w3-right" [width]="undefined">Destroy All Eggs</confirm-button></div>\r\n  </div>\r\n  <div *ngIf="fertilizedEggsCount &amp;&amp; fertilizedEggsCount != 0" class="w3-card-4 w3-responsive w3-margin-bottom">     \r\n    <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Creature</th>\r\n          <th>Egg Level</th>\r\n          <th>Spoil Time</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let egg of fertilizedEggsList">\r\n          <td>{{egg.Dino}}</td>\r\n          <td>{{egg.EggLevel}}</td>\r\n          <td>{{egg.SpoilTime}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table> \r\n  </div>\r\n\r\n  <div *ngIf="false &amp;&amp; spoiledEggsCount &amp;&amp; spoiledEggsCount != 0" class="w3-cell-row">\r\n      <div class="w3-cell"><h2 class="theme-text-d1 w3-left">Spoiled Eggs</h2></div>\r\n      <div class="w3-cell w3-cell-middle" *ngIf="dataService.hasFeatureAccess(\'admin-server\', \'structures-rcon\')"><confirm-button (callback)="destroySpoiledEggs($event)" class="w3-right" [width]="undefined">Destroy Spoiled Eggs</confirm-button></div>\r\n  </div>\r\n  <div *ngIf="spoiledEggsCount &amp;&amp; spoiledEggsCount != 0" class="w3-card-4 w3-responsive w3-margin-bottom"> \r\n   <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Creature</th>\r\n          <th>Egg Level</th>\r\n          <th>Dropped By</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let egg of spoiledEggsList">\r\n          <td>{{egg.Dino}}</td>\r\n          <td>{{egg.EggLevel}}</td>\r\n          <td *ngIf="DroppedBySteamId"><a href="/player/{{egg.DroppedBySteamId}}">{{egg.DroppedBy}}</a></td>\r\n          <td *ngIf="!DroppedBySteamId">{{egg.DroppedBy}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table> \r\n  </div>\r\n</section>\r\n\r\n<div #contextMenu class="contextMenu w3-modal">\r\n    <div class="w3-modal-content w3-card-4 w3-animate-zoom" (clickOutside)="hideContextMenu()" style="font-size: 0;">\r\n      <ng-container *ngIf="modalInfo">\r\n        <header class="w3-container theme-d1"> \r\n          <span (click)="hideContextMenu()" class="w3-button theme-d1 w3-xlarge w3-display-topright">&times;</span>\r\n          <h2>{{modalInfo.Header}}</h2>\r\n        </header>\r\n        <div class="w3-container w3-medium theme-l2">\r\n          <div class="w3-section">\r\n            {{modalInfo.Message}}\r\n          </div>\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n  </div>'},0:function(e,t,r){e.exports=r("x35b")},"08Wm":function(e,t,r){"use strict";var n=r("3j3K"),i=r("8kYA"),s=r("ATz5");r.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.dataService=e}return e.prototype.ngOnInit=function(){this.dataService.hasFeatureAccess("admin-server","structures")?this.menu.activate("structures"):this.dataService.hasFeatureAccess("admin-server","players")?this.menu.activate("players"):this.dataService.hasFeatureAccess("admin-server","tribes")?this.menu.activate("tribes"):this.dataService.hasFeatureAccess("admin-server","eggs")&&this.menu.activate("eggs")},e}();a([r.i(n.ViewChild)("menu"),o("design:type","function"==typeof(l=void 0!==i.a&&i.a)&&l||Object)],c.prototype,"menu",void 0),c=a([r.i(n.Component)({selector:"app-admin-server-menu",host:{"[class]":"menu.className"},template:r("bl1B"),styles:[r("9kk6")]}),o("design:paramtypes",["function"==typeof(d=void 0!==s.a&&s.a)&&d||Object])],c);var l,d},"0Hpj":function(e,t,r){"use strict";var n=r("3j3K"),i=r("Fzro"),s=r("eErF"),a=(r.n(s),r("lHWG"));r.d(t,"a",function(){return d});var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),c=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.getServers=function(){return this.http.get("assets/demo/servers.json").toPromise().then(function(e){return e.json()}).catch(this.handleError)},t.prototype.getServer=function(e){return this.http.get("assets/demo/server.json").toPromise().then(function(e){return e.json()}).catch(this.handleError)},t.prototype.getWildCreatures=function(e){return this.http.get("assets/demo/wildcreatures.json").toPromise().then(function(e){return e.json()}).catch(this.handleError)},t.prototype.getStructures=function(e){return this.http.get("assets/demo/structures.json").toPromise().then(function(e){return e.json()}).catch(this.handleError)},t.prototype.getPlayer=function(e){return this.http.get("assets/demo/player.json").toPromise().then(function(e){return e.json()}).catch(this.handleError)},t.prototype.getAdminServer=function(e){return this.http.get("assets/demo/adminserver.json").toPromise().then(function(e){return e.json()}).catch(this.handleError)},t.prototype.adminDestroyAllStructuresForTeamId=function(e,t){return Promise.resolve(null)},t.prototype.adminDestroyStructuresForTeamIdAtPosition=function(e,t,r,n,i,s){return Promise.resolve(null)},t.prototype.adminDestroyDinosForTeamId=function(e,t){return Promise.resolve(null)},t.prototype.adminSaveWorld=function(e){return Promise.resolve(null)},t}(a.a);d=c([r.i(n.Injectable)(),l("design:paramtypes",["function"==typeof(u=void 0!==i.b&&i.b)&&u||Object])],d);var u},"0jRk":function(e,t,r){"use strict";var n=r("3j3K"),i=r("jWPz"),s=r("joX7"),a=r("Gvdl"),o=(r.n(a),r("XlOA")),c=(r.n(o),r("1APj")),l=(r.n(c),r("6Yye")),d=(r.n(l),r("uCY4")),u=(r.n(d),r("wUn1")),p=(r.n(u),r("/lY3"));r.n(p);r.d(t,"a",function(){return f});var h=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e){this.ref=e,this._modeEnabledSubscriptions=[],this._rows$=a.Observable.of([]),this._orderByColumnKey=new a.BehaviorSubject(void 0),this._filter=new a.BehaviorSubject(void 0),this._updateTap=new a.BehaviorSubject(void 0),this._sort=new a.Subject,this._fromRow=0,this._numRows=25,this._totalRows=0,this._enabledColumnsForMode={},this._viewOptions=[{value:25,text:"25"},{value:50,text:"50"},{value:100,text:"100"},{value:250,text:"250"},{value:500,text:"500"},{value:1e3,text:"1000"},{value:1e6,text:"All"}],this._forceUpdate=!0,this._prevColumnKey=void 0,this._prevFilter=void 0,this._prevSortedRows=void 0,this._prevFilteredRows=void 0,this._prevSortedRowsKey=void 0,this._prevFilteredRowsKey=void 0}return e.prototype.ngOnInit=function(){var e=this;this._rows$=a.Observable.combineLatest(this._orderByColumnKey,this._filter.debounceTime(250),this._updateTap,function(e,t){return{key:e,filter:t}}).skip(1).startWith({key:this._orderByColumnKey.getValue(),filter:this._filter.getValue()}).switchMap(function(t){return a.Observable.of(e.filterAndSortData(t.key,t.filter))}).catch(function(t){return console.log("Error in component ... "+t),a.Observable.of(e._rows)})},Object.defineProperty(e.prototype,"modeTemplates",{set:function(e){if(e){var t=e.toArray();if(t.length){for(var r=[],n=0,i=t;n<i.length;n++){for(var s=i[n],o={},c=Object.getOwnPropertyNames(s),l=0,d=c;l<d.length;l++){var u=d[l];o[u]=s[u]}r.push(o)}this._modes=r,this.numEnabledModes=a.Observable.combineLatest(r.map(function(e){return e.enabled})).map(function(e){return e.map(function(e){return e?1:0}).reduce(function(e,t){return e+t})}),this._modes.length>0&&(this._currentMode=this._modes[0].key)}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnTemplates",{set:function(e){if(e){var t=e.toArray();if(t.length){for(var r=[],n=0,i=t;n<i.length;n++){for(var s=i[n],a={},o=Object.getOwnPropertyNames(s),c=0,l=o;c<l.length;c++){var d=l[c];a[d]=s[d]}s.headerTemplate&&(a.headerTemplate=s.headerTemplate),s.cellTemplate&&(a.cellTemplate=s.cellTemplate),r.push(a)}this._columnTemplates=r,this.orderBy(this.orderByColumn)}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{set:function(e){this._rows=e,this._forceUpdate=!0,this._updateTap.next(void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackByProp",{set:function(e){var t=this;this._trackByProp=e,this.trackByRow=function(e,r){return r[t._trackByProp]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{set:function(e){this._filter.next(e)},enumerable:!0,configurable:!0}),e.prototype.isCurrentMode=function(e){return e===this._currentMode},e.prototype.setCurrentMode=function(e){this._currentMode=e},e.prototype.showColumn=function(e){var t=this;if(!0===(this._enabledColumnsForMode[this._currentMode]||(this._enabledColumnsForMode[this._currentMode]={}))[e])return!0;if(!this._currentMode)return!1;var r=this._modes.find(function(e){return e.key==t._currentMode});if(!r)return!1;var n=void 0!=r.ColumnKeys.find(function(t){return t==e});return this._enabledColumnsForMode[this._currentMode][e]=n,n},e.prototype.currentModeEnabledColumnCount=function(){for(var e=0,t=0;t<this._columnTemplates.length;t++)this.showColumn(this._columnTemplates[t].key)&&e++;return e},e.prototype.trackByKey=function(e,t){return t.key},e.prototype.orderBy=function(e,t){void 0===t&&(t=void 0),this._columnTemplates.find(function(r){return r.key==e&&(void 0==t||1==r.orderBy)})&&this._orderByColumnKey.next((this._orderByColumnKey.getValue()==e?"-":"")+e)},e.prototype.filterAndSortData=function(e,t){var r=void 0;return t!=this._prevFilter&&e==this._prevColumnKey?(this._prevSortedRowsKey!=e&&(this._prevSortedRowsKey=e,this._prevSortedRows=this.sortData(this._rows.slice(),e)),r=this.filterData(this._prevSortedRows,t)):((this._forceUpdate||this._prevFilteredRowsKey!=t)&&(this._prevFilteredRowsKey=t,this._prevFilteredRows=this.filterData(this._rows,t)),void 0==t||null==t||""==t?(this._prevSortedRowsKey=e,r=this._prevSortedRows=this.sortData(this._rows.slice(),e)):r=this.sortData(this._prevFilteredRows,e)),(this._forceUpdate||t!=this._prevFilter)&&this.setFirstPage(),this._totalRows=r.length,this._prevColumnKey=e,this._prevFilter=t,this._forceUpdate=!1,r},e.prototype.filterData=function(e,t){var r=this;return void 0==t||null==t||""==t?e.slice():e.filter(function(e){return r.filterFunction(e,t)})},e.prototype.sortData=function(e,t){var r=this;if(void 0==t)return e;var n="-"!=t[0],i=this._columnTemplates.find(function(e){return e.key==t.substr(n?0:1)}),s=this.sortFunctions[i.key.replace(/^\-/,"")],a=(i.thenBy||"").split(",").filter(function(e){return r.sortFunctions.hasOwnProperty(e.replace(/^\-/,""))}).map(function(e){var t={};return t.asc="-"!=e[0],t.sortFunc=r.sortFunctions[e.replace(/^\-/,"")],t});return e.sort(function(e,t){var r=s(e,t,n);if(0==r)for(var i=0,o=a;i<o.length;i++){var c=o[i];if(0!=(r=c.sortFunc(e,t,c.asc)))break}return r})},e.prototype.setViewOffset=function(e){var t=e;t<0&&(t=0),t>=this._totalRows&&(t=this._totalRows-1),this._fromRow=parseInt(""+t),this.ref.markForCheck()},e.prototype.setViewOffsetRelative=function(e){this.setViewOffset(this._fromRow+e)},e.prototype.setFirstPage=function(){this.isFirstPage()||this.setViewOffset(0)},e.prototype.setPrevPage=function(){this.isFirstPage()||this.setViewOffsetRelative(-this._numRows)},e.prototype.setNextPage=function(){this.isLastPage()||this.setViewOffsetRelative(this._numRows)},e.prototype.setLastPage=function(){this.isLastPage()||this.setViewOffset(this._totalRows-this._numRows)},e.prototype.isFirstPage=function(){return this._fromRow<=0},e.prototype.isLastPage=function(){return this._fromRow>=this._totalRows-this._numRows},e.prototype.setViewLimit=function(e){this._numRows=parseInt(""+(e>0?e:1e6)),this.ref.markForCheck()},e.prototype.getLastRowOffset=function(){var e=this._fromRow+this._numRows;return e>this._totalRows?this._totalRows:e},e}();h([r.i(n.ContentChildren)(s.a),m("design:type","function"==typeof(v=void 0!==n.QueryList&&n.QueryList)&&v||Object),m("design:paramtypes",["function"==typeof(g=void 0!==n.QueryList&&n.QueryList)&&g||Object])],f.prototype,"modeTemplates",null),h([r.i(n.ContentChildren)(i.a),m("design:type","function"==typeof(y=void 0!==n.QueryList&&n.QueryList)&&y||Object),m("design:paramtypes",["function"==typeof(b=void 0!==n.QueryList&&n.QueryList)&&b||Object])],f.prototype,"columnTemplates",null),h([r.i(n.Input)(),m("design:type",Object),m("design:paramtypes",[Object])],f.prototype,"rows",null),h([r.i(n.Input)(),m("design:type",String),m("design:paramtypes",[String])],f.prototype,"trackByProp",null),h([r.i(n.Input)(),m("design:type",String),m("design:paramtypes",[String])],f.prototype,"filter",null),h([r.i(n.Input)(),m("design:type",Object)],f.prototype,"filterFunction",void 0),h([r.i(n.Input)(),m("design:type",Object)],f.prototype,"sortFunctions",void 0),h([r.i(n.Input)(),m("design:type",String)],f.prototype,"orderByColumn",void 0),f=h([r.i(n.Component)({selector:"ark-data-table",template:r("jkBB"),styles:[r("rZY4")],changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}),m("design:paramtypes",["function"==typeof(w=void 0!==n.ChangeDetectorRef&&n.ChangeDetectorRef)&&w||Object])],f);var v,g,y,b,w},"0onv":function(e,t,r){"use strict";var n=r("3j3K"),i=r("Gvdl"),s=(r.n(i),r("PJh5"));r.n(s);r.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.ref=e,this._time=new i.BehaviorSubject(void 0)}return Object.defineProperty(e.prototype,"time",{get:function(){return this._time.getValue()},set:function(e){this._time.next(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._timeSubscription=this._time.subscribe(function(t){e.update()}),this._counter=i.Observable.interval(1e3).map(function(e){return e}),this._counterSubscription=this._counter.subscribe(function(t){return e.update()})},e.prototype.ngOnDestroy=function(){this._timeSubscription.unsubscribe(),this._counterSubscription.unsubscribe()},e.prototype.update=function(){var e=this.toRelativeDate(this.time);e!=this._str&&(this._str=e,this.ref.markForCheck())},e.prototype.toRelativeDate=function(e){return s(new Date(e)).fromNow()},e}();a([r.i(n.Input)(),o("design:type",Object),o("design:paramtypes",[Object])],c.prototype,"time",null),c=a([r.i(n.Component)({selector:"relative-time",template:"<span>{{_str}}</span>",styles:[r("HOjl")],changeDetection:n.ChangeDetectionStrategy.OnPush}),o("design:paramtypes",["function"==typeof(l=void 0!==n.ChangeDetectorRef&&n.ChangeDetectorRef)&&l||Object])],c);var l},"1DTO":function(e,t){e.exports='<section class="w3-container">\n    <div class="w3-panel w3-red">\n      <h3>Access Denied</h3>\n      <p>You do not have access to view this page...</p>\n    </div> \n  </section>'},"38q8":function(e,t,r){"use strict";var n=r("3j3K"),i=r("Qbdm");r.d(t,"a",function(){return o});var s=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(){function e(e){this._sanitizer=e}return e.prototype.transform=function(e){return this._sanitizer.bypassSecurityTrustStyle(e)},e}();o=s([r.i(n.Pipe)({name:"sanitizeStyle"}),a("design:paramtypes",["function"==typeof(c=void 0!==i.DomSanitizer&&i.DomSanitizer)&&c||Object])],o);var c},5305:function(e,t,r){"use strict";var n=r("3j3K"),i=r("kZql"),s=r("vwbq");r.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(){this.width=1024,this.height=1024,this.zoom=s.a().scaleExtent([1,10])}return e.prototype.imageLoaded=function(e){var t=this;this.img=e,this.width=e.naturalWidth,this.height=e.naturalHeight,window.setTimeout(function(){t.resize(),t.redraw()},100)},e.prototype.resize=function(){},e.prototype.zoomed=function(){var e=s.e(this.canvasRef.nativeElement),t=this.canvasRef.nativeElement.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.width,this.height),t.translate(e.x,e.y),t.scale(e.k,e.k),this.redraw()},e.prototype.redraw=function(){var e=this.canvasRef.nativeElement.getContext("2d");if(e.drawImage(this.img,0,0),null!=this.points)for(var t=0,r=this.points;t<r.length;t++){var n=r[t];e.beginPath(),e.arc(n.x,n.y,7,0,2*Math.PI),e.fillStyle="black",e.fill(),e.lineWidth=2,e.strokeStyle="white",e.stroke()}},e.prototype.ngOnChanges=function(e){var t=this;if(null!=this.mapName){var r=new Image;r.onload=function(){return t.imageLoaded(r)},r.src=i.a.demo?"assets/demo/Ragnarok.jpg":this.getApiBaseUrl()+"/map/"+this.mapName,r.complete&&(r.onload=null,this.imageLoaded(r))}},e.prototype.getApiBaseUrl=function(){return i.a.apiBaseUrl.replace(/\<protocol\>/gi,window.location.protocol).replace(/\<hostname\>/gi,window.location.hostname).replace(/\<webapi_port\>/gi,"undefined"!=typeof config?config.webapi.port:"")},e}();a([r.i(n.Input)(),o("design:type",String)],c.prototype,"mapName",void 0),a([r.i(n.Input)(),o("design:type",Array)],c.prototype,"points",void 0),a([r.i(n.ViewChild)("myCanvas"),o("design:type","function"==typeof(l=void 0!==n.ElementRef&&n.ElementRef)&&l||Object)],c.prototype,"canvasRef",void 0),c=a([r.i(n.Component)({selector:"arkmap",template:'<canvas #myCanvas [width]="width" [height]="height" style="width: 100%;"></canvas>'}),o("design:paramtypes",[])],c);var l},"5xMp":function(e,t){e.exports='<simple-notifications [options]="notificationOptions"></simple-notifications>\r\n<router-outlet name="menu"></router-outlet>\r\n<div id="page">\r\n  <div class="w3-bar">\r\n    <breadcrumb prefix="Home" [useBootstrap]="false" class="breadcrumb w3-bar-item"></breadcrumb>\r\n    <div class="w3-bar-item w3-right w3-tiny theme-l1"><span *ngIf="dataService.Servers?.User?.SteamId">Logged in as {{dataService.Servers.User.Name}} | <a [href]="getLogoutUrl()">Logout</a> | </span><span *ngIf="!dataService.Servers?.User?.SteamId"><a href="#" (click)="openLogin($event)">Login</a> | </span><span *ngIf="this.dataService.hasFeatureAccess(\'pages\', \'admin-server\')"><a href="#" (click)="openAdminOptions($event)">Admin Options</a> | </span>Theme: <a href="#" (click)="setTheme(\'light\')">Light</a> | <a href="#" (click)="setTheme(\'dark\')">Dark</a></div>\r\n  </div>\r\n  <router-outlet></router-outlet>\r\n</div>\r\n<div id="modal_login" class="w3-modal" [style.display]="showLogin ? \'block\' : \'none\'">\r\n  <div class="w3-modal-content w3-card-4 w3-animate-zoom" (clickOutside)="closeLogin($event)" style="font-size: 0;">\r\n    <header class="w3-container theme-d1"> \r\n      <span (click)="showLogin = false" class="w3-button theme-d1 w3-xlarge w3-display-topright">&times;</span>\r\n      <h2>Log In</h2>\r\n    </header>\r\n    <form class="w3-container theme-l2 w3-medium" method="post" [action]="getLoginUrl()" ngNoForm>\r\n      <div class="w3-section">\r\n        <p>To give you access to personal information, first, we must verify your identity.</p>\r\n        <p>Please authenticate with our app through Steam by clicking on the button below.</p>\r\n        <input name="returnUrl" type="hidden" [value]="currentUrl" />\r\n        <button type="submit" class="w3-button w3-block theme-d1 w3-section w3-padding" name="provider" title="Log in using your Steam account">Go to Steam</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<div id="modal_admin" class="w3-modal" [style.display]="showAdmin ? \'block\' : \'none\'">\r\n  <div class="w3-modal-content w3-card-4 w3-animate-zoom" (clickOutside)="showAdmin = false" style="font-size: 0;">\r\n    <header class="w3-container theme-d1"> \r\n      <span (click)="showAdmin = false" class="w3-button theme-d1 w3-xlarge w3-display-topright">&times;</span>\r\n      <h2>Admin Options</h2>\r\n    </header>\r\n    <div class="w3-container w3-medium theme-l2">\r\n      <div class="w3-section">\r\n        These setting are configured in the application configuration editor/config.json but can be generated and previewed here.\r\n      </div>\r\n    </div>\r\n    <div class="w3-container w3-medium theme-l2">\r\n      <div class="w3-section"><button class="w3-button theme-d1" style="width: 100%;" (click)="openCustomTheme($event, customTheme)">Create Custom Theme</button></div>\r\n      <div class="w3-section">\r\n        <button class="w3-button theme-d1" style="width: 100%;" (click)="previewOverrideMenuOption = !previewOverrideMenuOption"><i [ngClass]="{\'w3-hide\': !previewOverrideMenuOption}" class="material-icons" style="margin: -5px 5px -5px -5px; vertical-align: middle;">check</i>{{(previewOverrideMenuOption ? previewMenuName + " Preview Enabled" : "Preview " + previewMenuName )}}</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<custom-theme #customTheme></custom-theme>'},"6fYc":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".serverdetails th{white-space:nowrap}.serverdetails td{width:99%}",""]),e.exports=e.exports.toString()},"78nn":function(e,t){e.exports="<app-menu #menu>\r\n  <h2 class=\"menu-header theme-text-d1\">Player</h2>\r\n  <div class=\"menu-items w3-cell-row theme-l2\">\r\n    <div *ngIf=\"dataService.hasFeatureAccess('player', 'profile', steamId)\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('profile')}\" (click)=\"menu.activate('profile')\">Profile</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('player', 'creatures', steamId)\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('creatures')}\" (click)=\"menu.activate('creatures')\">Creatures</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('player', 'creatures-cloud', steamId)\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('creatures_cloud')}\" (click)=\"menu.activate('creatures_cloud')\">Creatures (Cloud)</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('player', 'breeding', steamId)\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('breeding')}\" (click)=\"menu.activate('breeding')\">Breeding</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('player', 'crops', steamId)\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('crop_plots')}\" (click)=\"menu.activate('crop_plots')\">Crops</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('player', 'generators', steamId)\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('electrical_generators')}\" (click)=\"menu.activate('electrical_generators')\">Electrical Generators</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('player', 'kibbles-eggs', steamId)\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('kibbles_and_eggs')}\" (click)=\"menu.activate('kibbles_and_eggs')\">Kibbles and Eggs</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('player', 'tribelog', steamId)\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('tribelog')}\" (click)=\"menu.activate('tribelog')\">Tribe Log</div>\r\n  </div>\r\n</app-menu>"},"7T2B":function(e,t,r){"use strict";var n=r("3j3K");r.d(t,"a",function(){return a});var i=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(){this.callback=new n.EventEmitter,this.confirming=!1}return e.prototype.ngOnInit=function(){},e.prototype.onClick=function(e){var t=this;this.confirming?e.detail>=3&&(window.clearTimeout(this.resetTimeout),this.confirming=!1,this.callback.emit()):(this.confirming=!0,this.resetTimeout=window.setTimeout(function(){t.confirming=!1},5e3))},e}();i([r.i(n.Output)(),s("design:type","function"==typeof(o=void 0!==n.EventEmitter&&n.EventEmitter)&&o||Object)],a.prototype,"callback",void 0),i([r.i(n.Input)(),s("design:type",Number)],a.prototype,"width",void 0),i([r.i(n.ViewChild)("confirmButton"),s("design:type","function"==typeof(c=void 0!==n.ElementRef&&n.ElementRef)&&c||Object)],a.prototype,"confirmButton",void 0),a=i([r.i(n.Component)({selector:"confirm-button",template:r("QaTd"),styles:[r("8Zim")]}),s("design:paramtypes",[])],a);var o,c},"7arz":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"7fuz":function(e,t){e.exports='<section class="w3-container">\n  <button class="w3-button" [ngClass]="{\'theme-d1\': demoMode, \'theme-l2\': !demoMode, \'theme-hover\': !demoMode}" (click)="toggleDemoMode()"><i *ngIf="demoMode" class="material-icons" style="margin: -5px 5px -5px -5px; vertical-align: middle;">check</i>{{(demoMode ? "Demo Mode Enabled" : "Enable Demo Mode")}}</button>\n</section>'},"7uO+":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"7xIs":function(e,t,r){"use strict";var n=r("3j3K"),i=r("8kYA"),s=r("ATz5");r.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.dataService=e}return e.prototype.ngOnInit=function(){this.dataService.hasFeatureAccess("server","players")?this.menu.activate("players"):this.dataService.hasFeatureAccess("server","tribes")?this.menu.activate("tribes"):this.dataService.hasFeatureAccess("server","wildcreatures-statistics")?this.menu.activate("wildcreatures-statistics"):this.dataService.hasFeatureAccess("server","wildcreatures")&&this.menu.activate("wildcreatures")},e}();a([r.i(n.ViewChild)("menu"),o("design:type","function"==typeof(l=void 0!==i.a&&i.a)&&l||Object)],c.prototype,"menu",void 0),c=a([r.i(n.Component)({selector:"app-server-menu",host:{"[class]":"menu.className"},template:r("MjD/"),styles:[r("oLRk")]}),o("design:paramtypes",["function"==typeof(d=void 0!==s.a&&s.a)&&d||Object])],c);var l,d},"8Zim":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"8kYA":function(e,t,r){"use strict";var n=r("3j3K"),i=r("ATz5");r.d(t,"a",function(){return o});var s=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(){function e(e){this.dataService=e,this.menuOption=void 0,this.menuVisible=!1,this.className="menucontainer"}return e.prototype.ngOnInit=function(){var e=this;this.menuOptionSubscription=this.dataService.MenuOption.subscribe(function(t){return e.menuOption=t})},e.prototype.ngOnDestroy=function(){this.menuOptionSubscription.unsubscribe()},e.prototype.activate=function(e){this.dataService.SetMenuOption(e)},e.prototype.active=function(e){return this.menuOption==e},e.prototype.toggleMenu=function(){this.menuVisible=!this.menuVisible},e}();o=s([r.i(n.Component)({selector:"app-menu",template:r("m8aW"),styles:[r("ne8d")]}),a("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object])],o);var c},"8zLQ":function(e,t,r){"use strict";var n=r("3j3K");r.d(t,"a",function(){return a});var i=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this._elementRef=e,this.clickOutside=new n.EventEmitter}return e.prototype.onClick=function(e,t){if(t){this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(e)}},e}();i([r.i(n.Output)(),s("design:type",Object)],a.prototype,"clickOutside",void 0),i([r.i(n.HostListener)("document:click",["$event","$event.target"]),s("design:type",Function),s("design:paramtypes",[Object,Object]),s("design:returntype",void 0)],a.prototype,"onClick",null),a=i([r.i(n.Directive)({selector:"[clickOutside]"}),s("design:paramtypes",["function"==typeof(o=void 0!==n.ElementRef&&n.ElementRef)&&o||Object])],a);var o},"9kk6":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"A+2f":function(e,t){e.exports='<div *ngIf="dataService.hasFeatureAccess(\'pages\', \'admin-server\')" id="modal_custom_theme" class="w3-modal" [style.display]="_show ? \'block\' : \'none\'" [style.opacity]="_hoverHide ? 0 : 1">\r\n  <div class="w3-modal-content w3-card-4 w3-animate-zoom" (clickOutside)="_show = false" style="font-size: 0;">\r\n    <header class="w3-container theme-d1"> \r\n      <span (click)="_show = false" class="w3-button theme-d1 w3-xlarge w3-display-topright">&times;</span>\r\n      <h2>Create Custom Theme</h2>\r\n    </header>\r\n    <div class="w3-container w3-small theme-l2">\r\n      <div class="w3-section">\r\n        <div class="w3-bar theme-l1 w3-card-4 w3-margin-bottom">\r\n          <button *ngFor="let g of customThemeGroups" href="#" class="w3-bar-item w3-button w3-mobile" [ngClass]="{\'theme-d1\': g === currentCustomThemeGroup}" [style.width.%]="(100/customThemeGroups.length)" (click)="currentCustomThemeGroup = g">{{g.name}}</button>\r\n        </div>\r\n        <div class="customThemeContainer">\r\n          <div *ngFor="let ct of currentCustomThemeGroup.theme" class="customThemeItem" (click)="setCurrent(ct)">\r\n            <div class="customThemeColorPreview"><div [style.backgroundColor]="ct.value"></div></div>\r\n            <div class="customThemeColor theme-l1">{{ct.value}}</div>\r\n            <div class="customThemeName">{{ct.title || ct.name}}</div>\r\n          </div>\r\n        </div>\r\n        <input #colorPicker type="color" style="display: none;" [ngModel]="current?.value" (ngModelChange)="update($event)" />\r\n      </div>\r\n      <button class="w3-button w3-section theme-d1 w3-padding" (mouseover)="_hoverHide = true" (mouseleave)="_hoverHide = false">Hide</button><button class="w3-button w3-section w3-right theme-d1 w3-padding" (click)="copyStyles()">Copy Styles to Clipboard</button>\r\n    </div>\r\n  </div>\r\n</div>'},ATz5:function(e,t,r){"use strict";var n=r("3j3K"),i=r("Gvdl"),s=(r.n(i),r("lHWG")),a=r("+Lwu"),o=r("kZql"),c=r("PJh5");r.n(c);r.d(t,"a",function(){return u});var l=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t){var r=this;this.httpService=e,this.messageService=t,this._servers=new i.BehaviorSubject(void 0),this.menuOption=new i.BehaviorSubject(void 0),this.theme=new i.BehaviorSubject(void 0),this.ServersUpdated$=new n.EventEmitter,t.serverUpdated$.subscribe(function(e){return r.updateServer(e)})}return Object.defineProperty(e.prototype,"Theme",{get:function(){return this.theme.asObservable()},enumerable:!0,configurable:!0}),e.prototype.SetTheme=function(e){this.theme.next(e)},Object.defineProperty(e.prototype,"MenuOption",{get:function(){return this.menuOption.asObservable()},enumerable:!0,configurable:!0}),e.prototype.SetMenuOption=function(e){this.menuOption.next(e)},e.prototype.getServers=function(){var e=this;return this.httpService.getServers().then(function(t){e.Servers=t;var r=t?t.User:void 0;return e.UserSteamId=r&&r.SteamId?r.SteamId:void 0,e._servers.next(t),e.ServersUpdated$.emit(t),!0}).catch(function(t){return e.Servers=null,e.UserSteamId=void 0,e._servers.next(null),e.ServersUpdated$.emit(null),!1})},e.prototype.updateServer=function(e){this.getServers()},e.prototype.hasFeatureAccess=function(e,t,r){var n=this.Servers?this.Servers.AccessControl:void 0;if(!n)return!1;var i=n[e];if(!i)return!1;var s=i[t];if(!s)return!1;var a=this.Servers?this.Servers.User:void 0,o=a&&a.Roles?a.Roles.slice(0):[];a&&a.SteamId&&a.SteamId==r&&o.push("self");for(var c=function(e){if(s.find(function(t){return e.toLowerCase()===t.toLowerCase()}))return{value:!0}},l=0,d=o;l<d.length;l++){var u=d[l],p=c(u);if("object"==typeof p)return p.value}return!1},e.prototype.hasFeatureAccessObservable=function(e,t,r){var n=this;return this._servers.asObservable().map(function(i){return n.hasFeatureAccess(e,t,r)})},e.prototype.getCurrentDate=function(){return o.a.demo?c(new Date(o.a.demoDate)):c()},e.prototype.toDate=function(e){return new Date(e).toLocaleString("sv-SE")},e.prototype.toRelativeDate=function(e){return e?o.a.demo?c(new Date(e)).from(new Date(o.a.demoDate)):c(new Date(e)).fromNow():""},e}();u=l([r.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(p=void 0!==s.a&&s.a)&&p||Object,"function"==typeof(h=void 0!==a.a&&a.a)&&h||Object])],u);var p,h},AcJ7:function(e,t,r){"use strict";var n=r("3j3K"),i=r("5oXY"),s=r("ATz5");r.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.dataService=e,this.router=t}return e.prototype.resolve=function(e,t){var r=this;return this.dataService.getServers().then(function(e){return r.dataService}).catch(function(e){return r.dataService})},e}();c=a([r.i(n.Injectable)(),o("design:paramtypes",["function"==typeof(l=void 0!==s.a&&s.a)&&l||Object,"function"==typeof(d=void 0!==i.b&&i.b)&&d||Object])],c);var l,d},CzL3:function(e,t,r){"use strict";var n=r("3j3K"),i=r("Gvdl"),s=(r.n(i),r("kZql")),a=r("PJh5");r.n(a);r.d(t,"a",function(){return l});var o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(){this._ready=!1,this._wasExpired=!1,this._notificationSent=!1,this._time=new i.BehaviorSubject(void 0),this._notification=new i.BehaviorSubject(void 0),this._loadedAt=a()}return Object.defineProperty(e.prototype,"time",{get:function(){return this._time.getValue()},set:function(e){this._time.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notification",{get:function(){return this._notification.getValue()},set:function(e){this._notification.next(e)},enumerable:!0,configurable:!0}),e.prototype.updateDiff=function(e){e&&(s.a.demo?this._wasExpired=a(new Date(e)).diff(a(new Date(s.a.demoDate)))-a().diff(this._loadedAt)<=0:this._wasExpired=a(new Date(e)).diff(a())<=0,this._notificationSent=!1,this._str=void 0,this._ready=this._wasExpired,this._wasExpired||1!=this.state._completed||(this.state._completed=!1)),s.a.demo?this._diff=e||this.time?a.duration(a(new Date(e||this.time)).diff(a(new Date(s.a.demoDate)))-a().diff(this._loadedAt)):void 0:this._diff=e||this.time?a.duration(a(new Date(e||this.time)).diff(a())):void 0},e.prototype.update=function(){if(!this._diff)return"";if(this._diff.asMilliseconds()<=0){if(!this._notificationSent){if(this.notification&&this.state.imprintNotifications&&!this._wasExpired){new Audio("assets/Alarm01.mp3").play()}this._ready=!0}return this._notificationSent=!0,void(this._str=void 0)}var e=this._diff.seconds(),t=this._diff.minutes(),r=this._diff.hours(),n=Math.floor(this._diff.asDays()),i=[];n>0&&i.push(n+"d"),(n>0||r>0)&&i.push(r+"h"),(n>0||r>0||t>0)&&i.push(t+"m"),i.push(e+"s"),this._str=i.join(" "),this._ready=!1,this.state._completed=!1},e.prototype.ngOnInit=function(){var e=this;this._timeSubscription=this._time.subscribe(function(t){e.updateDiff(t),e.update()}),this._notificationSubscription=this._notification.subscribe(function(e){}),this._counter=i.Observable.interval(1e3).map(function(t){return e.updateDiff(void 0),t}),this._counterSubscription=this._counter.subscribe(function(t){return e.update()})},e.prototype.ngOnDestroy=function(){this._timeSubscription.unsubscribe(),this._notificationSubscription.unsubscribe(),this._counterSubscription.unsubscribe()},e}();o([r.i(n.Input)(),c("design:type",Object)],l.prototype,"state",void 0),o([r.i(n.Input)(),c("design:type",Object),c("design:paramtypes",[Object])],l.prototype,"time",null),o([r.i(n.Input)(),c("design:type",Object),c("design:paramtypes",[Object])],l.prototype,"notification",null),l=o([r.i(n.Component)({selector:"timer",template:'<span *ngIf="!_ready">{{_str}}</span><button *ngIf="_ready" style="padding: 4px 8px;" class="w3-button w3-small" [ngClass]="{\'theme-d1\': state._completed, \'theme-l2\': !state._completed && _ready, \'theme-hover\': !state._completed && _ready}" (click)="state._completed = !state._completed">{{(state._completed ? "Completed" : "Ready")}}</button>',styles:[r("cPj0")]}),c("design:paramtypes",[])],l)},EEDX:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},EM12:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={configJs:'var config = {"webapi":{"port":60001},"webapp":{"defaultTheme":"Dark"}};'}},Fnlp:function(e,t,r){"use strict";var n=r("3j3K"),i=r("ATz5"),s=r("3MNG"),a=(r.n(s),r("+Lwu"));r.d(t,"a",function(){return l});var o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,r){this.dataService=e,this.messageService=t,this.notificationsService=r,this.menuOption=void 0,this.demoMode=!1}return e.prototype.ngOnInit=function(){var e=this;this.serverUpdatedSubscription=this.messageService.serverUpdated$.subscribe(function(t){return e.showServerUpdateNotification(t)}),this.menuOptionSubscription=this.dataService.MenuOption.subscribe(function(t){return e.menuOption=t}),this.demoMode="true"==localStorage.getItem("demoMode")},e.prototype.ngOnDestroy=function(){this.serverUpdatedSubscription.unsubscribe(),this.menuOptionSubscription.unsubscribe()},e.prototype.showServerUpdateNotification=function(e){this.notificationsService.success("Server Update",e+" was updated; Reloading data...",{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0})},e.prototype.isMenuActive=function(e){return this.menuOption==e},e.prototype.toggleDemoMode=function(){var e="true"!=localStorage.getItem("demoMode");this.demoMode=e,localStorage.setItem("demoMode",e+"")},e}();l=o([r.i(n.Component)({selector:"app-developer",template:r("7fuz"),styles:[r("EEDX")]}),c("design:paramtypes",["function"==typeof(d=void 0!==i.a&&i.a)&&d||Object,"function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(p=void 0!==s.NotificationsService&&s.NotificationsService)&&p||Object])],l);var d,u,p},FxpQ:function(e,t,r){"use strict";var n=r("3j3K"),i=r("ATz5"),s=r("3MNG"),a=(r.n(s),r("+Lwu"));r.d(t,"a",function(){return l});var o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,r){this.dataService=e,this.messageService=t,this.notificationsService=r,this.menuOption=void 0}return e.prototype.ngOnInit=function(){var e=this;this.serverUpdatedSubscription=this.messageService.serverUpdated$.subscribe(function(t){return e.showServerUpdateNotification(t)}),this.menuOptionSubscription=this.dataService.MenuOption.subscribe(function(t){return e.menuOption=t})},e.prototype.ngOnDestroy=function(){this.serverUpdatedSubscription.unsubscribe(),this.menuOptionSubscription.unsubscribe()},e.prototype.showServerUpdateNotification=function(e){this.notificationsService.success("Server Update",e+" was updated; Reloading data...",{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0})},e.prototype.isMenuActive=function(e){return this.menuOption==e},e}();l=o([r.i(n.Component)({selector:"app-connection-error",template:r("lRu1"),styles:[r("mf93")]}),c("design:paramtypes",["function"==typeof(d=void 0!==i.a&&i.a)&&d||Object,"function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(p=void 0!==s.NotificationsService&&s.NotificationsService)&&p||Object])],l);var d,u,p},HOjl:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},Iksp:function(e,t,r){"use strict";var n=r("Qbdm"),i=r("KN8t"),s=r("3j3K"),a=r("NVOs"),o=r("5oXY"),c=r("Fzro"),l=r("3MNG"),d=(r.n(l),r("hHgl")),u=r("YWx4"),p=r("KZxv"),h=r("RiXa"),m=r("qn86"),f=r("JLFQ"),v=r("e/mT"),g=r("5305"),y=r("lHWG"),b=r("0Hpj"),w=r("+Lwu"),S=r("ATz5"),C=r("AcJ7"),O=r("r5VE"),k=r("+w0e"),j=r("38q8"),_=r("ilmp"),x=r("8zLQ"),I=r("JKTH"),A=r("8kYA"),F=r("7xIs"),M=r("08Wm"),R=r("lCrv"),T=r("CzL3"),L=r("0onv"),N=r("7T2B"),P=r("+qYp"),D=r("FxpQ"),B=r("Fnlp"),E=r("vMp4"),K=r("J8nT"),U=r("kZql");r.d(t,"a",function(){return G});var z=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},W=[{path:"player/:playerid",canActivate:[k.a],data:{name:"player"},children:[{path:"",component:p.a},{path:"",component:h.a,outlet:"menu"}]},{path:"server/:id",canActivate:[k.a],data:{name:"server"},children:[{path:"",component:m.a},{path:"",component:F.a,outlet:"menu"}]},{path:"admin/:id",canActivate:[k.a],data:{name:"admin-server"},children:[{path:"",component:v.a},{path:"",component:M.a,outlet:"menu"}]},{path:"servers",canActivate:[k.a],data:{name:"home"},children:[{path:"",component:f.a},{path:"",component:I.a,outlet:"menu"}]},{path:"developer",component:B.a},{path:"accessdenied",component:P.a},{path:"connectionerror",component:D.a},{path:"",redirectTo:"/servers",pathMatch:"full"}],G=function(){function e(){}return e}();G=z([r.i(s.NgModule)({declarations:[u.a,f.a,g.a,j.a,_.a,x.a,p.a,h.a,m.a,v.a,I.a,A.a,F.a,M.a,R.a,T.a,L.a,N.a,P.a,D.a,B.a,E.a],imports:[o.a.forRoot(W),d.a.forRoot(),n.BrowserModule,a.a,c.a,i.a,l.SimpleNotificationsModule.forRoot(),K.a],providers:[[{provide:y.a,useClass:U.a.demo?b.a:y.a}],w.a,S.a,C.a,O.a,k.a,{provide:s.LOCALE_ID,useValue:"en-US"}],bootstrap:[u.a]})],G)},J8nT:function(e,t,r){"use strict";var n=r("3j3K"),i=r("2Je8"),s=r("NVOs"),a=r("0jRk"),o=r("jWPz"),c=r("joX7");r.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},d=function(){function e(){}return e}();d=l([r.i(n.NgModule)({imports:[i.CommonModule,s.a],providers:[],declarations:[a.a,o.a,o.b,o.c,c.a],exports:[a.a,o.a,o.b,o.c,c.a]})],d)},JKTH:function(e,t,r){"use strict";var n=r("3j3K"),i=r("8kYA"),s=r("ATz5");r.d(t,"a",function(){return c});var a=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.dataService=e}return e.prototype.ngOnInit=function(){this.menu.activate("overview")},e}();a([r.i(n.ViewChild)("menu"),o("design:type","function"==typeof(l=void 0!==i.a&&i.a)&&l||Object)],c.prototype,"menu",void 0),c=a([r.i(n.Component)({selector:"app-server-list-menu",host:{"[class]":"menu.className"},template:r("rHbN"),styles:[r("P+hD")]}),o("design:paramtypes",["function"==typeof(d=void 0!==s.a&&s.a)&&d||Object])],c);var l,d},JLFQ:function(e,t,r){"use strict";var n=r("3j3K"),i=r("ATz5"),s=r("3MNG"),a=(r.n(s),r("+Lwu"));r.d(t,"a",function(){return l});var o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,r){this.dataService=e,this.messageService=t,this.notificationsService=r,this.menuOption=void 0,this.serverCount=0,this.onlinePlayerCount=0}return e.prototype.ngOnInit=function(){var e=this;this.serverUpdatedSubscription=this.messageService.serverUpdated$.subscribe(function(t){return e.showServerUpdateNotification(t)}),this.menuOptionSubscription=this.dataService.MenuOption.subscribe(function(t){return e.menuOption=t}),this.serversUpdatedSubscription=this.dataService.ServersUpdated$.subscribe(function(t){e.updateData(t)}),this.serverUpdateInterval=window.setInterval(function(){e.dataService.updateServer(null)},6e4),this.updateData(this.dataService.Servers)},e.prototype.ngOnDestroy=function(){this.serverUpdatedSubscription.unsubscribe(),this.menuOptionSubscription.unsubscribe(),this.serversUpdatedSubscription.unsubscribe(),window.clearInterval(this.serverUpdateInterval)},e.prototype.updateData=function(e){var t=0,r=0;if(e&&e.Servers){t=e.Servers.length;for(var n=0,i=e.Servers;n<i.length;n++){var s=i[n];s.OnlinePlayers&&(r+=s.OnlinePlayers.length)}}this.serverCount=t,this.onlinePlayerCount=r},e.prototype.showServerUpdateNotification=function(e){this.notificationsService.success("Server Update",e+" was updated; Reloading data...",{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0})},e.prototype.isMenuActive=function(e){return this.menuOption==e},e}();l=o([r.i(n.Component)({selector:"app-server-list",template:r("SH1B"),styles:[r("6fYc")]}),c("design:paramtypes",["function"==typeof(d=void 0!==i.a&&i.a)&&d||Object,"function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(p=void 0!==s.NotificationsService&&s.NotificationsService)&&p||Object])],l);var d,u,p},KZxv:function(e,t,r){"use strict";var n=r("3j3K"),i=r("5oXY"),s=r("3MNG"),a=(r.n(s),r("ATz5")),o=r("+Lwu"),c=r("lHWG"),l=r("+rAa");r.d(t,"a",function(){return p});var d=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n,i,s,a,o){var c=this;this.route=e,this.router=t,this.httpService=n,this.dataService=i,this.messageService=s,this.notificationsService=a,this.ref=o,this.menuOption=void 0,this.theme=void 0,this.imprintNotifications=!1,this.keysGetter=Object.keys,this.loaded=!1,this.showMap=!1,this.creaturesMode="status",this.creatureStates={},this.speciesTopStats={},this.creaturesSortField="food",this.creaturesAltSortFields="name",this.creaturesSortFunctions={food:function(e,t,n){return r.i(l.d)(e.FoodStatus,t.FoodStatus,n,2)},name:function(e,t,n){return r.i(l.b)(e.Name,t.Name,n)},species:function(e,t,n){return r.i(l.b)(e.Species,t.Species,n)},gender:function(e,t,n){return r.i(l.b)(e.Gender,t.Gender,n)},base_level:function(e,t,n){return r.i(l.c)(e.BaseLevel,t.BaseLevel,!n)},level:function(e,t,n){return r.i(l.c)(e.Level==e.BaseLevel?null:e.Level,t.Level==t.BaseLevel?null:t.Level,!n)},imprint:function(e,t,n){return r.i(l.d)(e.Imprint,t.Imprint,!n,2)},latitude:function(e,t,n){return r.i(l.d)(e.Latitude,t.Latitude,n,1)},longitude:function(e,t,n){return r.i(l.d)(e.Longitude,t.Longitude,n,1)},in_cryopod:function(e,t,n){return r.i(l.c)(e.InCryopod,t.InCryopod,!n)},owner:function(e,t,n){return r.i(l.b)(e.OwnerType,t.OwnerType,n)},num_top_stats:function(e,t,n){return r.i(l.c)(c.numTopStats(e),c.numTopStats(t),!n)},stat_health:function(e,t,n){return r.i(l.c)(void 0!=e.BaseStats?e.BaseStats.Health:null,void 0!=t.BaseStats?t.BaseStats.Health:null,!n)},stat_stamina:function(e,t,n){return r.i(l.c)(void 0!=e.BaseStats?e.BaseStats.Stamina:null,void 0!=t.BaseStats?t.BaseStats.Stamina:null,!n)},stat_oxygen:function(e,t,n){return r.i(l.c)(void 0!=e.BaseStats?e.BaseStats.Oxygen:null,void 0!=t.BaseStats?t.BaseStats.Oxygen:null,!n)},stat_food:function(e,t,n){return r.i(l.c)(void 0!=e.BaseStats?e.BaseStats.Food:null,void 0!=t.BaseStats?t.BaseStats.Food:null,!n)},stat_weight:function(e,t,n){return r.i(l.c)(void 0!=e.BaseStats?e.BaseStats.Weight:null,void 0!=t.BaseStats?t.BaseStats.Weight:null,!n)},stat_melee:function(e,t,n){return r.i(l.c)(void 0!=e.BaseStats?e.BaseStats.Melee:null,void 0!=t.BaseStats?t.BaseStats.Melee:null,!n)},stat_speed:function(e,t,n){return r.i(l.c)(void 0!=e.BaseStats?e.BaseStats.MovementSpeed:null,void 0!=t.BaseStats?t.BaseStats.MovementSpeed:null,!n)},id1:function(e,t,n){return r.i(l.c)(e.Id1,t.Id1,n)},id2:function(e,t,n){return r.i(l.c)(e.Id1,t.Id1,n)}},this.tribeLogFilterFunction=function(e,t){return null==t||null!=e.Message&&e.Message.toLowerCase().indexOf(t)>=0}}return e.prototype.getPlayer=function(){var e=this;this.httpService.getPlayer(this.steamId).then(function(t){var r=Object.keys(t.Servers);e.serverKey&&void 0!=r.find(function(t){return t==e.serverKey})||(e.serverKey=r.length>0?r[0]:null);var n=Object.keys(t.Clusters);e.clusterKey&&void 0!=n.find(function(t){return t==e.clusterKey})||(e.clusterKey=n.length>0?n[0]:null),e.player=t,e.calculateTopStats(),e.filterAndSort(),e.sortCluster(),e.filterCluster(),e.loaded=!0,e.ref.detectChanges()}).catch(function(t){e.player=null,e.filteredCreatures=null,e.imprintCreatures=null,e.filteredClusterCreatures=null,e.loaded=!0})},e.prototype.ngOnInit=function(){var e=this;this.menuOptionSubscription=this.dataService.MenuOption.subscribe(function(t){return e.menuOption=t}),this.theme$=this.dataService.Theme,this.themeSubscription=this.theme$.subscribe(function(t){e.theme=t}),this.steamId=this.route.snapshot.params.playerid,this.serverUpdatedSubscription=this.messageService.serverUpdated$.subscribe(function(t){return e.updateServer(t)}),this.getPlayer()},e.prototype.ngOnDestroy=function(){this.menuOptionSubscription.unsubscribe(),this.themeSubscription.unsubscribe(),this.serverUpdatedSubscription.unsubscribe()},e.prototype.haveMatingCooldown=function(e){return null!=e.NextMating&&new Date(e.NextMating)>new Date},e.prototype.readyForMating=function(e){return null==e.BabyAge&&"Female"==e.Gender&&!this.haveMatingCooldown(e)&&!e.InCryopod},e.prototype.active=function(e){return this.serverKey==e},e.prototype.activate=function(e){this.serverKey=e,this.filterAndSort()},e.prototype.serverWidth=function(){return 100/Object.keys(this.player.Servers).length},e.prototype.activeCluster=function(e){return this.clusterKey==e},e.prototype.activateCluster=function(e){this.clusterKey=e,this.sortCluster(),this.filterCluster()},e.prototype.clusterWidth=function(){return 100/Object.keys(this.player.Clusters).length},e.prototype.numTopStats=function(e){for(var t=["Health","Stamina","Oxygen","Food","Weight","Melee","MovementSpeed"],r=this.speciesTopStats[e.ClassName],n=e.BaseStats,i=0,s=0,a=t;s<a.length;s++){var o=a[s];r[o]==n[o]&&i++}return i},e.prototype.calculateTopStats=function(){for(var e={},t=["Health","Stamina","Oxygen","Food","Weight","Melee","MovementSpeed"],r=Object.keys(this.player.Servers),n=0,i=r;n<i.length;n++)for(var s=i[n],a=this.player.Servers[s].Creatures,o=0,c=a;o<c.length;o++){var l=c[o];void 0===e[l.ClassName]&&(e[l.ClassName]={Health:0,Stamina:0,Oxygen:0,Food:0,Weight:0,Melee:0,MovementSpeed:0});for(var d=e[l.ClassName],u=0,p=t;u<p.length;u++){var h=p[u];d[h]<l.BaseStats[h]&&(d[h]=l.BaseStats[h])}}this.speciesTopStats=e},e.prototype.getColorForSpeciesStat=function(e,t){var n=this.speciesTopStats[e.ClassName][t],i=e.BaseStats[t],s=i,a=n>0?s/n:0,o=Math.pow(a,2)*(1/3),c=.5+(s==n?.4:0);c>1&&(c=1);var d="light"!=this.theme?r.i(l.e)(o,c+.1,s==n?.7:.4):r.i(l.e)(o,c,1);return"#"+((1<<24)+(d.r<<16)+(d.g<<8)+d.b).toString(16).substr(1)},e.prototype.sort=function(){var e=this,t="-"!=this.creaturesSortField[0],r=this.creaturesSortFunctions[this.creaturesSortField.replace(/^\-/,"")],n=this.creaturesAltSortFields.split(",").map(function(t){var r={};return r.asc="-"!=t[0],r.sortFunc=e.creaturesSortFunctions[t.replace(/^\-/,"")],r});this.filteredCreatures.sort(function(e,i){var s=r(e,i,t);if(0==s)for(var a=0,o=n;a<o.length;a++){var c=o[a];if(0!=(s=c.sortFunc(e,i,c.asc)))break}return s})},e.prototype.filter=function(){if(null==this.creaturesFilter||0==this.creaturesFilter.length)this.filteredCreatures=this.player.Servers[this.serverKey].Creatures;else{var e=this.creaturesFilter.toLowerCase(),t=void 0;e=e.replace(/\s+(-?cryopod)\b/,function(e,r){return"-cryopod"==r?t=!1:"cryopod"==r&&(t=!0),""}),this.filteredCreatures=this.player.Servers[this.serverKey].Creatures.filter(function(r){return(void 0==t||r.InCryopod==t)&&(null!=r.Species&&r.Species.toLowerCase().indexOf(e)>=0||null!=r.Name&&r.Name.toLowerCase().indexOf(e)>=0)})}var r=this.player.Servers[this.serverKey].Creatures.filter(function(e){return null!=e.BabyAge});r.sort(function(e,t){return new Date(e.BabyNextCuddle)<new Date(t.BabyNextCuddle)?-1:new Date(e.BabyNextCuddle)>new Date(t.BabyNextCuddle)?1:0}),this.imprintCreatures=r;for(var n=[],i=0,s=this.filteredCreatures;i<s.length;i++){var a=s[i];if(null!=a.TopoMapX&&null!=a.TopoMapY){var o={};o.x=a.TopoMapX,o.y=a.TopoMapY,n.push(o)}}this.points=n},e.prototype.filterAndSort=function(){this.filter(),this.sort()},e.prototype.sortCluster=function(){null!=this.clusterKey&&this.player.Clusters[this.clusterKey].Creatures.sort(function(e,t){return e.Level>t.Level?-1:e.Level<t.Level?1:0})},e.prototype.filterCluster=function(){if(null==this.clusterKey)return void(this.filteredClusterCreatures=null);if(null==this.creaturesClusterFilter||0==this.creaturesClusterFilter.length)this.filteredClusterCreatures=this.player.Clusters[this.clusterKey].Creatures;else{var e=this.creaturesClusterFilter.toLowerCase();this.filteredClusterCreatures=this.player.Clusters[this.clusterKey].Creatures.filter(function(t){return null!=t.Species&&t.Species.toLowerCase().indexOf(e)>=0||null!=t.Name&&t.Name.toLowerCase().indexOf(e)>=0})}},e.prototype.run=function(){if(null==this.steamId||""==this.steamId)return this.player=null,this.filteredCreatures=null,void(this.imprintCreatures=null);this.getPlayer()},e.prototype.openMap=function(e){this.showMap=!0,e.stopPropagation()},e.prototype.closeMap=function(e){this.showMap=!1},e.prototype.updateServer=function(e){this.getPlayer(),this.showServerUpdateNotification(e)},e.prototype.haveCluster=function(){return null!=this.player&&Object.keys(this.player.Clusters).length>0},e.prototype.sumKibbleAndEggs=function(){return void 0!=this.player.Servers[this.serverKey].KibblesAndEggs?this.player.Servers[this.serverKey].KibblesAndEggs.reduce(function(e,t){return e+t.KibbleCount+t.EggCount},0):0},e.prototype.showServerUpdateNotification=function(e){this.notificationsService.success("Server Update",e+" was updated; Reloading data...",{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0})},e.prototype.isMenuActive=function(e){return this.menuOption==e},e.prototype.getStateForCreature=function(e){if(e){var t=this.creatureStates[e.Id1+"_"+e.Id2];return t||(t={imprintNotifications:!0},this.creatureStates[e.Id1+"_"+e.Id2]=t),t}},e.prototype.toggleImprintNotificationForCreature=function(e){var t=this.getStateForCreature(e);t.imprintNotifications=!t.imprintNotifications},e.prototype.activeCreaturesMode=function(e){return e==this.creaturesMode},e.prototype.activateCreaturesMode=function(e){this.creaturesMode=e},e.prototype.setCreaturesSort=function(e){var t=this.creaturesSortField==e;this.creaturesSortField=t?"-"+e:e,this.creaturesAltSortFields="latitude"==e?t?"-longitude,name":"longitude,name":"longitude"==e?t?"-latitude,name":"latitude,name":"num_top_stats"==e?t?"gender,-base_level,name":"gender,base_level,name":"name",this.sort()},e.prototype.copyCreature=function(e){},e.prototype.getCurrentServer=function(){var e=this;if(this.dataService&&this.dataService.Servers&&this.dataService.Servers.Servers){return this.dataService.Servers.Servers.find(function(t){return t.Key==e.serverKey})}},e.prototype.numCreatureTabs=function(){var e=1;return this.dataService.hasFeatureAccess("player","creatures-basestats",this.steamId)&&(e+=1),this.dataService.hasFeatureAccess("player","creatures-ids",this.steamId)&&(e+=1),e},e.prototype.isTheme=function(e){return this.theme==e},e}();p=d([r.i(n.Component)({selector:"app-player",template:r("jFLX"),styles:[r("S6EL")]}),u("design:paramtypes",["function"==typeof(h=void 0!==i.g&&i.g)&&h||Object,"function"==typeof(m=void 0!==i.b&&i.b)&&m||Object,"function"==typeof(f=void 0!==c.a&&c.a)&&f||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(g=void 0!==o.a&&o.a)&&g||Object,"function"==typeof(y=void 0!==s.NotificationsService&&s.NotificationsService)&&y||Object,"function"==typeof(b=void 0!==n.ChangeDetectorRef&&n.ChangeDetectorRef)&&b||Object])],p);var h,m,f,v,g,y,b},MOVZ:function(e,t){function r(e){throw new Error("Cannot find module '"+e+"'.")}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id="MOVZ"},"MjD/":function(e,t){e.exports="<app-menu #menu>\r\n  <h2 class=\"menu-header theme-text-d1\">Server</h2>\r\n  <div class=\"menu-items w3-cell-row theme-l2\">\r\n    <div *ngIf=\"dataService.hasFeatureAccess('server', 'players')\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('players')}\" (click)=\"menu.activate('players')\">Players</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('server', 'tribes')\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('tribes')}\" (click)=\"menu.activate('tribes')\">Tribes</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('server', 'wildcreatures-statistics')\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('wildcreatures-statistics')}\" (click)=\"menu.activate('wildcreatures-statistics')\">Wild Statistics</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('server', 'wildcreatures')\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('wildcreatures')}\" (click)=\"menu.activate('wildcreatures')\">Wild Creatures</div>\r\n  </div>\r\n</app-menu>"},"P+hD":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},QMiF:function(e,t){e.exports='\x3c!--<div class="contextMenu" #contextMenu>\r\n  <ng-container *ngIf="currentOwner &amp;&amp; currentArea">\r\n    <h4 style="margin-bottom: 3px;">{{currentOwner.Name}}</h4>\r\n    <div>Coords: {{currentArea.Latitude | number:\'1.0-1\'}}, {{currentArea.Longitude | number:\'1.0-1\'}}</div>\r\n    <div *ngIf="currentOwner.LastActiveTime">Last Active: {{dataService.toRelativeDate(currentOwner.LastActiveTime)}}</div>\r\n    <div class="w3-margin-bottom">{{currentArea.StructureCount | number}} structures</div>\r\n    <button *ngIf="dataService.hasFeatureAccess(\'admin-server\', \'structures-rcon\')" class="w3-button theme-d1" style="width: 100%;" (click)="confirmDestroyCurrentArea()">Destroy this area</button>\r\n  </ng-container>\r\n</div>--\x3e\r\n<div #contextMenu class="contextMenu w3-modal">\r\n  <div class="w3-modal-content w3-card-4 w3-animate-zoom" (clickOutside)="hideContextMenu()" style="font-size: 0;">\r\n    <ng-container *ngIf="currentArea &amp;&amp; currentOwner">\r\n      <header class="w3-container theme-d1"> \r\n        <span (click)="hideContextMenu()" class="w3-button theme-d1 w3-xlarge w3-display-topright">&times;</span>\r\n        <h2>{{currentOwner.Name}}</h2>\r\n      </header>\r\n      <div class="w3-container w3-medium theme-l2">\r\n        <div class="w3-section">\r\n          Coords: {{currentArea.Latitude | number:\'1.0-1\'}}, {{currentArea.Longitude | number:\'1.0-1\'}}<br />\r\n          <ng-container *ngIf="currentOwner.LastActiveTime">Last Active: {{dataService.toRelativeDate(currentOwner.LastActiveTime)}}<br /></ng-container>\r\n          {{currentArea.StructureCount | number}} structures\r\n        </div>\r\n        <div class="w3-section"><button class="w3-button theme-d1" style="width: 100%;" (click)="setSelectedOwner(currentOwner)">Show only areas for this team</button></div>\r\n        <div class="w3-section" *ngIf="dataService.hasFeatureAccess(\'admin-server\', \'structures-rcon\')"><confirm-button (callback)="destroyCurrentArea($event)" [width]="100">Destroy this area</confirm-button></div>\r\n      </div>\r\n    </ng-container>\r\n    <ng-container *ngIf="currentOwner &amp;&amp; !currentArea">\r\n      <header class="w3-container theme-d1"> \r\n        <span (click)="hideContextMenu()" class="w3-button theme-d1 w3-xlarge w3-display-topright">&times;</span>\r\n        <h2>{{currentOwner.Name}}</h2>\r\n      </header>\r\n      <div class="w3-container w3-medium theme-l2">\r\n        <div class="w3-section">\r\n          <ng-container *ngIf="currentOwner.LastActiveTime">Last Active: {{dataService.toRelativeDate(currentOwner.LastActiveTime)}}<br /></ng-container>\r\n          {{currentOwner.AreaCount | number}} areas<br />\r\n          {{currentOwner.StructureCount | number}} structures<br />\r\n          {{currentOwner.CreatureCount | number}} creatures\r\n        </div>\r\n        <div class="w3-section"><button class="w3-button theme-d1" style="width: 100%;" (click)="setSelectedOwner(currentOwner)">Show only areas for this team</button></div>\r\n        <div class="w3-section" *ngIf="dataService.hasFeatureAccess(\'admin-server\', \'structures-rcon\')"><confirm-button (callback)="destroyAllStructuresForTeam($event)" [width]="100">Destroy all structures</confirm-button></div>\r\n        <div class="w3-section" *ngIf="dataService.hasFeatureAccess(\'admin-server\', \'structures-rcon\')"><confirm-button (callback)="destroyDinosForTeam($event)" [width]="100">Destroy all creatures</confirm-button></div>\r\n      </div>\r\n    </ng-container>\r\n    <ng-container *ngIf="modalInfo">\r\n      <header class="w3-container theme-d1"> \r\n        <span (click)="hideContextMenu()" class="w3-button theme-d1 w3-xlarge w3-display-topright">&times;</span>\r\n        <h2>{{modalInfo.Header}}</h2>\r\n      </header>\r\n      <div class="w3-container w3-medium theme-l2">\r\n        <div class="w3-section">\r\n          {{modalInfo.Message}}\r\n        </div>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n\r\n<div class="w3-cell-row">\r\n  <div class="w3-cell"><a id="structures"></a><h2 class="theme-text-d1 w3-left">Structures</h2></div>\r\n  <div class="w3-cell w3-cell-middle" *ngIf="dataService.hasFeatureAccess(\'admin-server\', \'structures-rcon\')"><confirm-button (callback)="saveWorld($event)" class="w3-right" [width]="undefined">Save World</confirm-button></div>\r\n</div>\r\n\r\n<div class="wrapper">\r\n  <div class="buttons">\r\n    <button class="w3-button theme-d1" style="padding: 3px 6px;" (click)="zoomIn()"><i class="material-icons w3-xxlarge">add</i></button>\r\n    <button class="w3-button theme-d1" style="padding: 3px 6px;" (click)="zoomOut()"><i class="material-icons w3-xxlarge">remove</i></button>\r\n  </div>\r\n  <div class="map" #map></div>\r\n</div>\r\n\r\n<ng-container *ngIf="ownersSorted">\r\n  <div class="w3-cell-row">\r\n    <div class="w3-cell"><h2 class="theme-text-d1 w3-left">Player/Tribe Locations</h2></div>\r\n    <div class="w3-cell w3-cell-middle">\r\n      <div class="w3-clear">\r\n        \x3c!--<button class="w3-button theme-d1 w3-right w3-margin-left" (click)="reset($event)">All</button>\r\n        <button class="w3-button theme-d1 w3-right" (click)="reset($event)">None</button>--\x3e\r\n        <button class="w3-button theme-d1 w3-right" (click)="reset($event)">Reset</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="w3-card-4 w3-responsive">\r\n    <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Name</th>\r\n          <th>Type</th>\r\n          <th style="cursor: pointer;" title="Sort by Location Count" (click)="setOwnerSort(\'locations\')">A#</th>\r\n          <th style="cursor: pointer;" title="Sort by Structure Count" (click)="setOwnerSort(\'structures\')">S#</th>\r\n          <th title="Creature Count">C#</th>\r\n          <th style="cursor: pointer;" title="Sort by Last Active Time" (click)="setOwnerSort(\'lastactive\')">Last Active</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let owner of ownersSorted">\r\n          <td><input type="radio" [(ngModel)]="selectedOwner" [value]="owner" (change)="updateSelection()" /> {{owner.Name}}</td>\r\n          <td>{{owner.Type}}</td>\r\n          <td>{{owner.AreaCount}}</td>\r\n          <td>{{owner.StructureCount}}</td>\r\n          <td>{{owner.CreatureCount}}</td>\r\n          <td>{{dataService.toRelativeDate(owner.LastActiveTime)}}</td>\r\n          <td><button class="w3-button theme-d1 w3-right" (click)="showOwnerModal($event, owner)">Options</button></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</ng-container>'},QaTd:function(e,t){e.exports='<button #confirmButton class="w3-button" [ngClass]="{\'theme-d1\': !confirming, \'theme-e1\': confirming}" [style.width.%]="width" (click)="onClick($event)">\r\n  <ng-content *ngIf="!confirming"></ng-content>\r\n  <ng-container *ngIf="confirming">Tripple tap to confirm...</ng-container>\r\n</button>'},RiXa:function(e,t,r){"use strict";var n=r("3j3K"),i=r("8kYA"),s=r("5oXY"),a=r("ATz5");r.d(t,"a",function(){return l});var o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.route=e,this.dataService=t}return e.prototype.ngOnInit=function(){this.steamId=this.route.snapshot.params.playerid,this.dataService.hasFeatureAccess("player","profile",this.steamId)?this.menu.activate("profile"):this.dataService.hasFeatureAccess("player","creatures",this.steamId)?this.menu.activate("creatures"):this.dataService.hasFeatureAccess("player","creatures-cloud",this.steamId)?this.menu.activate("creatures_cloud"):this.dataService.hasFeatureAccess("player","breeding",this.steamId)?this.menu.activate("breeding"):this.dataService.hasFeatureAccess("player","crops",this.steamId)?this.menu.activate("crop_plots"):this.dataService.hasFeatureAccess("player","generators",this.steamId)?this.menu.activate("electrical_generators"):this.dataService.hasFeatureAccess("player","kibbles-eggs",this.steamId)?this.menu.activate("kibbles_and_eggs"):this.dataService.hasFeatureAccess("player","tribelog",this.steamId)&&this.menu.activate("tribelog")},e}();o([r.i(n.ViewChild)("menu"),c("design:type","function"==typeof(d=void 0!==i.a&&i.a)&&d||Object)],l.prototype,"menu",void 0),l=o([r.i(n.Component)({selector:"app-player-menu",host:{"[class]":"menu.className"},template:r("78nn"),styles:[r("7uO+")]}),c("design:paramtypes",["function"==typeof(u=void 0!==s.g&&s.g)&&u||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object])],l);var d,u,p},S6EL:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".stat-cell{padding:3px 2px}.stat-item{padding:5px 0}",""]),e.exports=e.exports.toString()},SH1B:function(e,t){e.exports='<section *ngIf="isMenuActive(\'overview\') &amp;&amp; dataService.UserSteamId != undefined &amp;&amp; dataService.hasFeatureAccess(\'home\', \'myprofile\') &amp;&amp; dataService.hasFeatureAccess(\'pages\', \'player\', dataService.UserSteamId)" class="w3-container">\r\n  <h3 class="theme-text-d1">My Profile</h3>\r\n  <div class="w3-card-4 w3-margin-bottom">\r\n    <header class="w3-container theme-d1">\r\n      <h3>Hello, {{dataService.Servers.User.Name}}</h3>\r\n    </header>\r\n    <div class="w3-container theme-l1">\r\n      <p>\r\n        Find your tames, view base stats and keep track of their food status. Get notified of pending imprints, the amount of fertilizer and gasoline remaining in your crops and generators. This and much more is available in your profile.\r\n      </p>\r\n      <p><a [routerLink]="\'/player/\' + dataService.UserSteamId" class="" style="text-decoration: none;">View my profile&nbsp;</a></p>\r\n    </div>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'overview\') &amp;&amp; dataService.Servers != undefined &amp;&amp; serverCount > 0 &amp;&amp; dataService.hasFeatureAccess(\'home\', \'serverlist\')" class="w3-container">\r\n  <h3 class="theme-text-d1">Servers</h3>\r\n  <div *ngFor="let server of dataService.Servers.Servers" class="w3-card-4 w3-margin-bottom">\r\n    <header class="w3-container theme-d1">\r\n      <h3><a *ngIf="dataService.hasFeatureAccess(\'pages\', \'server\'); else server_no_link" [routerLink]="\'/server/\' + server.Key" style="text-decoration: none;"><ng-container *ngIf="server.MapName">{{server.MapName}} - </ng-container>{{server.Key}}</a><ng-template #server_no_link><ng-container *ngIf="server.MapName">{{server.MapName}} - </ng-container>{{server.Key}}</ng-template></h3>\r\n    </header>\r\n    <div class="w3-container theme-l1">\r\n      <p class="w3-small">\r\n        Last Update {{server.LastUpdate}}, Next Update {{server.NextUpdate || \'-\'}}\r\n      </p>\r\n      <p *ngIf="dataService.hasFeatureAccess(\'pages\', \'server\')"><a [routerLink]="\'/server/\' + server.Key" class="" style="text-decoration: none;">View server </a></p>\r\n      <p *ngIf="dataService.hasFeatureAccess(\'pages\', \'admin-server\')"><a [routerLink]="\'/admin/\' + server.Key" class="" style="text-decoration: none;">Admin </a></p>\r\n    </div>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'overview\') &amp;&amp; dataService.Servers != undefined &amp;&amp; dataService.hasFeatureAccess(\'home\', \'online\')" class="w3-container">\r\n  <h3 class="theme-text-d1">Online <span class="w3-tag w3-large theme-d1">{{onlinePlayerCount}}</span></h3>\r\n  <div *ngIf="onlinePlayerCount == 0; else online_players_list">There are no players online...</div>\r\n  <ng-template #online_players_list>\r\n    <div class="w3-card-4 w3-responsive">\r\n      <table class="w3-table w3-striped w3-bordered border-theme">\r\n          <tr class="theme-d1">\r\n              <th>Steam Name</th>\r\n              <th>Character Name</th>\r\n              <th>Tribe Name</th>\r\n              <th>Discord Tag</th>\r\n              <th>Server</th>\r\n              <th>Time Online</th>\r\n          </tr>\r\n          <ng-container *ngFor="let server of dataService.Servers.Servers">\r\n            <tr *ngFor="let player of server.OnlinePlayers">\r\n              <td>{{player.SteamName}}</td>\r\n              <td>{{player.CharacterName}}</td>\r\n              <td>{{player.TribeName}}</td>\r\n              <td>{{player.DiscordName}}</td>\r\n              <td>{{server.Key}}</td>\r\n              <td>{{player.TimeOnline}}</td>\r\n            </tr>\r\n          </ng-container>\r\n      </table>\r\n    </div>\r\n  </ng-template>\r\n</section>\r\n<ng-container *ngFor="let server of dataService.Servers?.Servers">\r\n  <section *ngIf="isMenuActive(server.Key) &amp;&amp; dataService.Servers != undefined &amp;&amp; dataService.hasFeatureAccess(\'home\', \'serverdetails\')" class="w3-container">\r\n    <div class="w3-card-4 w3-responsive w3-margin-bottom">\r\n      <header class="w3-container theme-d1">\r\n        <h3><a *ngIf="dataService.hasFeatureAccess(\'pages\', \'server\'); else serverdetails_no_link" [routerLink]="\'/server/\' + server.Key" style="text-decoration: none;">{{server.Name}}</a><ng-template #serverdetails_no_link>{{server.Name}}</ng-template></h3>\r\n      </header>\r\n      <div class="w3-container theme-l1">\r\n        <table class="w3-table w3-bordered w3-small border-theme serverdetails">\r\n            <tr>\r\n              <th class="theme-text-d1">Address</th>\r\n              <td style="width: max-content;">{{server.Address}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Version</th>\r\n              <td>{{server.Version}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Player Slots</th>\r\n              <td>{{server.OnlinePlayerMax}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Map</th>\r\n              <td>{{server.MapName}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">In-Game Day</th>\r\n              <td>{{server.InGameTime}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Tamed Creatures</th>\r\n              <td>{{server.TamedCreatureCount | number}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Cloud Creatures</th>\r\n              <td>{{server.CloudCreatureCount | number}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Wild Creatures</th>\r\n              <td>{{server.WildCreatureCount | number}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Structures</th>\r\n              <td>{{server.StructureCount | number}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Players</th>\r\n              <td>{{server.PlayerCount | number}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Tribes</th>\r\n              <td>{{server.TribeCount | number}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Last Update</th>\r\n              <td>{{server.LastUpdate}}</td>\r\n            </tr>\r\n            <tr>\r\n              <th class="theme-text-d1">Next Update</th>\r\n              <td>{{server.NextUpdate}}</td>\r\n            </tr>\r\n            <tr style="border-bottom: none;">\r\n              <th class="theme-text-d1">Uptime</th>\r\n              <td>{{server.ServerStarted ? dataService.toRelativeDate(server.ServerStarted) : \'-\'}}</td>\r\n            </tr>\r\n          </table>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!--<h3 class="theme-text-d1"><a *ngIf="dataService.hasFeatureAccess(\'pages\', \'server\'); else serverdetails_no_link" [routerLink]="\'/server/\' + server.Key" style="text-decoration: none;">{{server.Name}}</a><ng-template #serverdetails_no_link>{{server.Name}}</ng-template></h3>\r\n    <div class="w3-responsive w3-margin-bottom">\r\n      <table class="w3-table w3-bordered w3-small border-theme serverdetails">\r\n        <tr>\r\n          <th class="theme-text-d1">Address</th>\r\n          <td style="width: max-content;">{{server.Address}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Version</th>\r\n          <td>{{server.Version}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Player Slots</th>\r\n          <td>{{server.OnlinePlayerMax}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Map</th>\r\n          <td>{{server.MapName}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">In-Game Time</th>\r\n          <td>{{server.InGameTime}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Tamed Creatures</th>\r\n          <td>{{server.TamedCreatureCount | number}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Cloud Creatures</th>\r\n          <td>{{server.CloudCreatureCount | number}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Wild Creatures</th>\r\n          <td>{{server.WildCreatureCount | number}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Structures</th>\r\n          <td>{{server.StructureCount | number}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Players</th>\r\n          <td>{{server.PlayerCount | number}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Tribes</th>\r\n          <td>{{server.TribeCount | number}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Last Update</th>\r\n          <td>{{server.LastUpdate}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Next Update</th>\r\n          <td>{{server.NextUpdate}}</td>\r\n        </tr>\r\n        <tr>\r\n          <th class="theme-text-d1">Uptime</th>\r\n          <td>{{server.ServerStarted ? dataService.toRelativeDate(server.ServerStarted) : \'-\'}}</td>\r\n        </tr>\r\n      </table>\r\n    </div>--\x3e\r\n    <ng-container *ngIf="dataService.hasFeatureAccess(\'home\', \'online\')">\r\n      <h3 class="theme-text-d1">Online <span class="w3-tag w3-large theme-d1">{{server.OnlinePlayerCount}}</span></h3>\r\n      <div *ngIf="server.OnlinePlayerCount == 0; else server_online_players_list">There are no players online...</div>\r\n      <ng-template #server_online_players_list>\r\n        <div class="w3-card-4 w3-responsive w3-margin-bottom">\r\n          <table *ngIf="isMenuActive(server.Key)" class="w3-table w3-striped w3-bordered border-theme">\r\n              <tr class="theme-d1">\r\n                  <th>Steam Name</th>\r\n                  <th>Character Name</th>\r\n                  <th>Tribe Name</th>\r\n                  <th>Discord Tag</th>\r\n                  <th>Time Online</th>\r\n              </tr>\r\n              <tr *ngFor="let player of server.OnlinePlayers">\r\n                <td>{{player.SteamName}}</td>\r\n                <td>{{player.CharacterName}}</td>\r\n                <td>{{player.TribeName}}</td>\r\n                <td>{{player.DiscordName}}</td>\r\n                <td>{{player.TimeOnline}}</td>\r\n              </tr>\r\n          </table>\r\n        </div>\r\n      </ng-template>\r\n    </ng-container>\r\n  </section>\r\n</ng-container>\r\n<section *ngIf="isMenuActive(\'overview\') &amp;&amp; dataService.hasFeatureAccess(\'home\', \'externalresources\')" class="w3-container margin-top">\r\n  <h3 class="theme-text-d1">External Resources</h3>\r\n  <div class="w3-card-4 w3-margin-bottom">\r\n    <header class="w3-container theme-d1">\r\n      <h3>Wiki</h3>\r\n    </header>\r\n    <div class="w3-container theme-l1">\r\n      <p><a href="http://ark.gamepedia.com/" style="text-decoration: none;">Official ARK Survival Evolved Wiki&nbsp;</a></p>\r\n    </div>\r\n  </div>\r\n  <div class="w3-card-4 w3-margin-bottom">\r\n    <header class="w3-container theme-d1">\r\n      <h3>Taming Calculators</h3>\r\n    </header>\r\n    <div class="w3-container theme-l1">\r\n      <ul class="w3-ul" style="margin: 7px 0px;">\r\n        <li style="padding-left: 0px;"><a href="http://www.survive-ark.com/taming-calculator/" style="text-decoration: none;">Survive ARK: Taming Calculator&nbsp;</a></li>\r\n        <li style="padding-left: 0px;"><a href="http://www.dododex.com/" style="text-decoration: none;">Dododex: Taming Calculator&nbsp;</a></li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n  <div class="w3-card-4 w3-margin-bottom">\r\n    <header class="w3-container theme-d1">\r\n      <h3>Creature Library and Breeding Suggestions</h3>\r\n    </header>\r\n    <div class="w3-container theme-l1">\r\n      <p><a href="https://github.com/cadon/ARKStatsExtractor" style="text-decoration: none;">ARK Smart Breeding&nbsp;</a></p>\r\n    </div>\r\n  </div>\r\n</section>'},YWx4:function(e,t,r){"use strict";var n=r("3j3K"),i=r("5oXY"),s=r("3MNG"),a=(r.n(s),r("hHgl")),o=r("+Lwu"),c=r("ATz5"),l=r("lHWG"),d=r("r5VE"),u=r("kZql"),p=r("2Je8");r.d(t,"a",function(){return v});var h=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},v=function(){function e(e,t,r,n,i,s,a,o){this.doc=e,this.messageService=t,this.dataService=r,this.httpService=n,this.hotkeysService=i,this.breadcrumbService=s,this.notificationsService=a,this.router=o,this.notificationOptions={position:["top","right"],timeOut:1e3,lastOnBottom:!1},this.showLogin=!1,this.showAdmin=!1,this.previewOverrideMenuOption=!1,this.currentUrl="/",this.serversUpdatedBefore=!1,this.loading=!0;var c=this.doc.getElementById("configjs"),l=null;if(null!=u.a.configJsOverride?l=u.a.configJsOverride:"/*[[config]]*/"==c.text&&(l=u.a.configJsDefault),null!=l){var d=this.doc.createElement("script");d.type="text/javascript",d.id="configjs",d.text=l,c.parentNode.replaceChild(d,c)}if("undefined"!=typeof config&&"undefined"!==config.webapp&&!0===config.webapp.useCustomCssFile){var p=this.doc.createElement("link");p.rel="stylesheet",p.href="/custom.css",this.doc.getElementsByTagName("head")[0].appendChild(p)}"undefined"!=typeof config&&"undefined"!==config.webapp&&!0===config.webapp.topMenu?this.previewMenuName="Sidebar Menu":this.previewMenuName="Top Menu",s.addFriendlyNameForRoute("/accessdenied","Access Denied"),s.addFriendlyNameForRoute("/connectionerror","Connection error"),s.hideRoute("/player"),s.hideRoute("/servers"),s.hideRoute("/server"),s.hideRoute("/admin"),s.addCallbackForRouteRegex("^/player/.+$",this.getNameForPlayer),u.a.demo||t.connect()}return e.prototype.ngOnInit=function(){var e=this;this.dataService.SetTheme(this.getTheme()),this.routerEventsSubscription=this.router.events.subscribe(function(t){e.navigationInterceptor(t)}),this.currentUrl=window.location.href||"/",this.serversUpdatedSubscription=this.dataService.ServersUpdated$.subscribe(function(t){e.serversUpdatedBefore||!t||t.User&&t.User.SteamId||(e.showLogin=!0),e.serversUpdatedBefore=!0}),this.adminOptionsHotkeySubscription=this.hotkeysService.add({keys:"control.shift.a"}).subscribe(function(){e.dataService.hasFeatureAccess("pages","admin-server")&&(e.showAdmin=!0)})},e.prototype.ngOnDestroy=function(){this.routerEventsSubscription.unsubscribe(),this.serversUpdatedSubscription.unsubscribe(),this.adminOptionsHotkeySubscription.unsubscribe()},e.prototype.navigationInterceptor=function(e){e instanceof i.d?this.loading=!0:e instanceof i.c?this.loading=!1:e instanceof i.e?this.loading=!1:e instanceof i.f&&(this.loading=!1)},e.prototype.getNameForPlayer=function(e){return"Player"},e.prototype.getBodyClasses=function(){var e=this.getTheme();return("undefined"!=typeof config&&"undefined"!==config.webapp&&!0===config.webapp.topMenu)!==this.previewOverrideMenuOption&&(e+=" topmenu"),e},e.prototype.getDefaultTheme=function(){var e="undefined"!=typeof config&&"undefined"!==config.webapp&&"string"==typeof config.webapp.defaultTheme?config.webapp.defaultTheme.toLowerCase():void 0;return"light"!=e&&"dark"!=e?"dark":e},e.prototype.getTheme=function(){return localStorage.getItem("theme")||this.getDefaultTheme()},e.prototype.setTheme=function(e){return this.dataService.SetTheme(e),localStorage.setItem("theme",e),!1},e.prototype.openLogin=function(e){this.showLogin=!0,e.stopPropagation(),e.preventDefault()},e.prototype.closeLogin=function(e){this.showLogin=!1},e.prototype.openAdminOptions=function(e){this.showAdmin=!0,e.stopPropagation(),e.preventDefault()},e.prototype.openCustomTheme=function(e,t){e.stopPropagation(),e.preventDefault(),this.showAdmin=!1,t.show()},e.prototype.getLoginUrl=function(){return u.a.demo?"":this.httpService.getApiBaseUrl()+"/authentication/login"},e.prototype.getLogoutUrl=function(){return u.a.demo?"":this.httpService.getApiBaseUrl()+"/authentication/logout?returnUrl="+this.currentUrl},e}();v=h([r.i(n.Component)({selector:"body",host:{"[class]":"getBodyClasses()"},template:r("5xMp"),styles:[r("okgc")]}),f(0,r.i(n.Inject)(p.DOCUMENT)),m("design:paramtypes",[Object,"function"==typeof(g=void 0!==o.a&&o.a)&&g||Object,"function"==typeof(y=void 0!==c.a&&c.a)&&y||Object,"function"==typeof(b=void 0!==l.a&&l.a)&&b||Object,"function"==typeof(w=void 0!==d.a&&d.a)&&w||Object,"function"==typeof(S=void 0!==a.b&&a.b)&&S||Object,"function"==typeof(C=void 0!==s.NotificationsService&&s.NotificationsService)&&C||Object,"function"==typeof(O=void 0!==i.b&&i.b)&&O||Object])],v);var g,y,b,w,S,C,O},aijx:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},bKAj:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},bl1B:function(e,t){e.exports="<app-menu #menu>\r\n  <h2 class=\"menu-header theme-text-d1\">Admin|Server</h2>\r\n  <div class=\"menu-items w3-cell-row theme-l2\">\r\n    <div *ngIf=\"dataService.hasFeatureAccess('admin-server', 'structures')\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('structures')}\" (click)=\"menu.activate('structures')\">Structures</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('admin-server', 'players')\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('players')}\" (click)=\"menu.activate('players')\">Players</div>\r\n    <div *ngIf=\"dataService.hasFeatureAccess('admin-server', 'tribes')\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('tribes')}\" (click)=\"menu.activate('tribes')\">Tribes</div>\r\n    <div *ngIf=\"false &amp;&amp; dataService.hasFeatureAccess('admin-server', 'fertilized-eggs')\" class=\"w3-button w3-cell w3-mobile\" [ngClass]=\"{'theme-d1': menu.active('fertilized-eggs')}\" (click)=\"menu.activate('fertilized-eggs')\">Fertilized Eggs</div>\r\n  </div>\r\n</app-menu>"},cPj0:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"e/mT":function(e,t,r){"use strict";var n=r("3j3K"),i=r("5oXY"),s=r("3MNG"),a=(r.n(s),r("ATz5")),o=r("+Lwu"),c=r("lHWG"),l=r("vwbq");r.d(t,"a",function(){return p});var d=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,r,n,i,s){this.route=e,this.router=t,this.httpService=r,this.dataService=n,this.messageService=i,this.notificationsService=s,this.menuOption=void 0,this.loaded=!1,this.loadedStructures=!1,this.loadedFertilizedEggs=!1}return e.prototype.getServer=function(){var e=this;this.httpService.getAdminServer(this.serverKey).then(function(t){e.server=t,e.loaded=!0}).catch(function(t){e.server=null,e.loaded=!0})},e.prototype.getStructures=function(){var e=this;this.httpService.getStructures(this.serverKey).then(function(t){e.structures=t,e.loadedStructures=!0}).catch(function(t){e.structures=void 0,e.loadedStructures=!0})},e.prototype.getListFertilizedEggs=function(){var e=this;this.httpService.adminListFertilizedEggs(this.serverKey).then(function(t){e.spoiledEggsList=t.SpoiledEggList,e.fertilizedEggsList=t.FertilizedEggList,e.fertilizedEggsCount=void 0===t.FertilizedEggsCount?0:t.FertilizedEggsCount,e.spoiledEggsCount=void 0===t.SpoiledEggsCount?0:t.SpoiledEggsCount,e.totalEggCount=e.spoiledEggsCount+e.fertilizedEggsCount,e.loadedFertilizedEggs=!0}).catch(function(t){e.fertilizedEggsList=void 0,e.loadedFertilizedEggs=!0})},e.prototype.ngOnInit=function(){var e=this;this.serverKey=this.route.snapshot.params.id,this.menuOptionSubscription=this.dataService.MenuOption.subscribe(function(t){e.menuOption=t,"structures"==e.menuOption?e.getStructures():"fertilized-eggs"==e.menuOption&&e.getListFertilizedEggs()}),this.serverUpdatedSubscription=this.messageService.serverUpdated$.subscribe(function(t){e.serverKey==t&&(e.updateServer(),e.showServerUpdateNotification(t))}),this.getServer()},e.prototype.ngOnDestroy=function(){this.menuOptionSubscription.unsubscribe(),this.serverUpdatedSubscription.unsubscribe()},e.prototype.getTribeMember=function(e){return this.server.Players.find(function(t){return t.SteamId==e})},e.prototype.updateServer=function(){this.getServer()},e.prototype.showServerUpdateNotification=function(e){this.notificationsService.success("Server Update",e+" was updated; Reloading data...",{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0})},e.prototype.isMenuActive=function(e){return this.menuOption==e},e.prototype.showInfoModal=function(e,t){var r={};r.Header=e,r.Message=t,this.modalInfo=r,l.b(this.contextMenu.nativeElement).style("display","block"),l.c&&l.c.stopPropagation()},e.prototype.hideContextMenu=function(){l.b(this.contextMenu.nativeElement).style("display","none"),this.modalInfo=void 0},e.prototype.saveWorld=function(e){var t=this;this.httpService.adminSaveWorld(this.serverKey).then(function(e){t.hideContextMenu(),t.getListFertilizedEggs(),t.showInfoModal("Action Successfull!",e.Message)}).catch(function(e){t.hideContextMenu();var r=e&&e._body?JSON.parse(e._body):void 0;t.showInfoModal("Action Failed...",r?r.Message:e.statusText)})},e.prototype.destroyAllEggs=function(e){var t=this;this.httpService.adminDestroyAllEggs(this.serverKey).then(function(e){t.hideContextMenu(),t.getListFertilizedEggs(),t.showInfoModal("Action Successfull!",e.Message)}).catch(function(e){t.hideContextMenu();var r=e&&e._body?JSON.parse(e._body):void 0;t.showInfoModal("Action Failed...",r?r.Message:e.statusText)})},e.prototype.destroySpoiledEggs=function(e){var t=this;this.httpService.adminDestroySpoiledEggs(this.serverKey).then(function(e){t.hideContextMenu(),t.getListFertilizedEggs(),t.showInfoModal("Action Successfull!",e.Message)}).catch(function(e){t.hideContextMenu();var r=e&&e._body?JSON.parse(e._body):void 0;t.showInfoModal("Action Failed...",r?r.Message:e.statusText)})},e}();d([r.i(n.ViewChild)("contextMenu"),u("design:type","function"==typeof(h=void 0!==n.ElementRef&&n.ElementRef)&&h||Object)],p.prototype,"contextMenu",void 0),p=d([r.i(n.Component)({selector:"app-admin-server",template:r("/Wuq"),styles:[r("7arz")]}),u("design:paramtypes",["function"==typeof(m=void 0!==i.g&&i.g)&&m||Object,"function"==typeof(f=void 0!==i.b&&i.b)&&f||Object,"function"==typeof(v=void 0!==c.a&&c.a)&&v||Object,"function"==typeof(g=void 0!==a.a&&a.a)&&g||Object,"function"==typeof(y=void 0!==o.a&&o.a)&&y||Object,"function"==typeof(b=void 0!==s.NotificationsService&&s.NotificationsService)&&b||Object])],p);var h,m,f,v,g,y,b},eqcJ:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".customThemeContainer{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-line-pack:justify;align-content:space-between}.customThemeItem{width:50%;padding:2px;cursor:pointer}.customThemeColorPreview{width:28px;height:28px;display:inline-block;vertical-align:middle;margin-right:5px;border:2px solid #000;box-sizing:border-box}.customThemeColorPreview>div{width:24px;height:24px;display:inline-block;border:2px solid #fff;box-sizing:border-box}.customThemeColor{font-family:monospace;padding:1px 3px;width:55px;border-radius:8px;margin-right:10px}.customThemeColor,.customThemeName{height:20px;display:inline-block;vertical-align:middle}",""]),e.exports=e.exports.toString()},"fT+k":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,'.map canvas,.map svg{position:absolute;top:0;left:0;width:100%}rect.overlay{fill:transparent}.wrapper{position:relative}.wrapper:after{padding-top:100%;display:block;content:""}.wrapper .buttons{position:absolute;left:5px;top:5px;opacity:.75;z-index:2}',""]),e.exports=e.exports.toString()},ilmp:function(e,t,r){"use strict";var n=r("3j3K"),i=r("Qbdm");r.d(t,"a",function(){return o});var s=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(){function e(e){this._sanitizer=e}return e.prototype.transform=function(e){return this._sanitizer.bypassSecurityTrustHtml(e)},e}();o=s([r.i(n.Pipe)({name:"sanitizeHtml"}),a("design:paramtypes",["function"==typeof(c=void 0!==i.DomSanitizer&&i.DomSanitizer)&&c||Object])],o);var c},jFLX:function(e,t){e.exports='<section *ngIf="loaded == false" class="w3-container">\r\n  <div class="w3-panel theme-l2">\r\n    <h3 class="theme-text-l1-light">Loading...</h3>\r\n  </div> \r\n</section>\r\n<section *ngIf="loaded == true &amp;&amp; player == null" class="w3-container">\r\n  <div class="w3-panel w3-red">\r\n    <h3>Error!</h3>\r\n    <p>No data could be loaded for the given steam id.</p>\r\n  </div> \r\n</section>\r\n<section *ngIf="!isMenuActive(\'creatures_cloud\') &amp;&amp; player != undefined" class="w3-container">\r\n  <h2 class="theme-text-d1">Servers</h2>\r\n  <div *ngIf="player?.Servers" class="w3-bar theme-l2 w3-card-4">\r\n    <button *ngFor="let server of keysGetter(player?.Servers)" href="#" class="w3-bar-item w3-button w3-mobile" [ngClass]="{\'theme-d1\': active(server)}" [style.width.%]="serverWidth()" (click)="activate(server)">{{server}}</button>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'profile\') &amp;&amp; player != undefined &amp;&amp; dataService.hasFeatureAccess(\'player\', \'profile\', steamId)" class="w3-container">\r\n  <a id="player"></a><h2 class="theme-text-d1">Player</h2>\r\n  <div class="w3-card-4 w3-responsive">\r\n    <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Character Name</th>\r\n          <th *ngIf="dataService.hasFeatureAccess(\'player\', \'profile-detailed\', steamId)">Gender</th>\r\n          <th>Tribe Name</th>\r\n          <th>Steam Id</th>\r\n          <th>Tribe Id</th>\r\n          <th *ngIf="dataService.hasFeatureAccess(\'player\', \'profile-detailed\', steamId)">Level</th>\r\n          <th *ngIf="dataService.hasFeatureAccess(\'player\', \'profile-detailed\', steamId)">Engram Points</th>\r\n          <th *ngIf="dataService.hasFeatureAccess(\'player\', \'profile-detailed\', steamId)">Lat</th>\r\n          <th *ngIf="dataService.hasFeatureAccess(\'player\', \'profile-detailed\', steamId)">Lng</th>\r\n          <th>Saved At</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>{{player?.Servers[serverKey]?.CharacterName}}</td>\r\n          <td *ngIf="dataService.hasFeatureAccess(\'player\', \'profile-detailed\', steamId)">{{player?.Servers[serverKey]?.Gender}}</td>\r\n          <td>{{player?.Servers[serverKey]?.TribeName}}</td>\r\n          <td>{{player?.Servers[serverKey]?.FakeSteamId || player?.Servers[serverKey]?.SteamId}}</td>\r\n          <td>{{player?.Servers[serverKey]?.TribeId}}</td>\r\n          <td *ngIf="dataService.hasFeatureAccess(\'player\', \'profile-detailed\', steamId)">{{player?.Servers[serverKey]?.Level}}</td>\r\n          <td *ngIf="dataService.hasFeatureAccess(\'player\', \'profile-detailed\', steamId)">{{player?.Servers[serverKey]?.EngramPoints | number}}</td>\r\n          <td *ngIf="dataService.hasFeatureAccess(\'player\', \'profile-detailed\', steamId)">{{player?.Servers[serverKey]?.Latitude | number:\'1.1-1\'}}</td>\r\n          <td *ngIf="dataService.hasFeatureAccess(\'player\', \'profile-detailed\', steamId)">{{player?.Servers[serverKey]?.Longitude | number:\'1.1-1\'}}</td>\r\n          <td>{{dataService.toDate(player?.Servers[serverKey]?.SavedAt)}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'creatures\') &amp;&amp; player != undefined &amp;&amp; dataService.hasFeatureAccess(\'player\', \'creatures\', steamId)" class="w3-container">\r\n  <div class="w3-cell-row">\r\n    <div class="w3-cell"><a id="creatures"></a><h2 class="theme-text-d1 w3-left">Creatures <span class="w3-tag w3-large theme-d1">{{filteredCreatures.length}}</span></h2></div>\r\n    <div class="w3-cell w3-cell-middle"><button class="w3-button theme-d1 w3-right" (click)="openMap($event)">Show Map</button></div>\r\n  </div>\r\n  <div *ngIf="!(player.Servers[serverKey]?.Creatures?.length > 0)">There are no creatures...</div>\r\n  <ng-container *ngIf="player.Servers[serverKey]?.Creatures?.length > 0">\r\n    <div class="inner-addon right-addon">\r\n      <i *ngIf="creaturesFilter != null &amp;&amp; creaturesFilter != \'\'" class="material-icons" style="cursor: pointer;" (click)="creaturesFilter = \'\'; filterAndSort();">close</i>\r\n      <input [ngModel]="creaturesFilter" (ngModelChange)="creaturesFilter = $event; filterAndSort();" class="w3-input w3-border w3-round-xlarge w3-large w3-margin-bottom border-theme theme-l1" placeholder="Filter" />\r\n    </div>\r\n    <div *ngIf="numCreatureTabs() > 1" class="w3-bar theme-l2 w3-card-4 w3-margin-bottom">\r\n      <button href="#" class="w3-bar-item w3-button w3-mobile" [ngClass]="{\'theme-d1\': activeCreaturesMode(\'status\')}" [style.width.%]="(100/numCreatureTabs())" (click)="activateCreaturesMode(\'status\')">Overview / Status</button>\r\n      <button *ngIf="dataService.hasFeatureAccess(\'player\', \'creatures-basestats\', steamId)" href="#" class="w3-bar-item w3-button w3-mobile" [ngClass]="{\'theme-d1\': activeCreaturesMode(\'stats\')}" [style.width.%]="(100/numCreatureTabs())" (click)="activateCreaturesMode(\'stats\')">Base Stats</button>\r\n      <button *ngIf="dataService.hasFeatureAccess(\'player\', \'creatures-ids\', steamId)" href="#" class="w3-bar-item w3-button w3-mobile" [ngClass]="{\'theme-d1\': activeCreaturesMode(\'ids\')}" [style.width.%]="(100/numCreatureTabs())" (click)="activateCreaturesMode(\'ids\')">IDs</button>\r\n    </div>\r\n    <div class="w3-card-4 w3-responsive">\r\n      <table class="w3-table-all border-theme">\r\n        <thead>\r\n          <tr class="theme-d1">\r\n            <th style="cursor: pointer;" title="Sort by Name" (click)="setCreaturesSort(\'name\')">Name</th>\r\n            \x3c!--<th>ClassName</th>--\x3e\r\n            <th style="cursor: pointer;" title="Sort by Species" (click)="setCreaturesSort(\'species\')">Species</th>\r\n            \x3c!--<th>Aliases</th>--\x3e\r\n            <ng-container *ngIf="!activeCreaturesMode(\'stats\')">\r\n              <th style="cursor: pointer;" title="Sort by Gender" (click)="setCreaturesSort(\'gender\')">Gender</th>\r\n            </ng-container>\r\n            <th style="cursor: pointer;" title="Sort by Base Level" (click)="setCreaturesSort(\'base_level\')">Base Level</th>\r\n            <th style="cursor: pointer;" title="Sort by Level" (click)="setCreaturesSort(\'level\')">Level</th>\r\n            <ng-container *ngIf="activeCreaturesMode(\'status\')">\r\n              <th style="cursor: pointer;" title="Sort by Imprint" (click)="setCreaturesSort(\'imprint\')">Imprint</th>\r\n              <th style="cursor: pointer;" title="Sort by Food" (click)="setCreaturesSort(\'food\')">Food</th>\r\n              <th style="cursor: pointer;" title="Sort by Latitude" (click)="setCreaturesSort(\'latitude\')">Lat</th>\r\n              <th style="cursor: pointer;" title="Sort by Longitude" (click)="setCreaturesSort(\'longitude\')">Lng</th>\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'status\') || activeCreaturesMode(\'stats\')">\r\n              <th style="cursor: pointer;" title="Sort by In Cryopod" (click)="setCreaturesSort(\'in_cryopod\')">Cryopod</th>\r\n              <th>Status</th>\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'status\')">\r\n              <th style="cursor: pointer;" title="Sort by Owner" (click)="setCreaturesSort(\'owner\')">Owner</th>\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'stats\')">\r\n              <th style="cursor: pointer;" title="Sort by Num Top Stats" (click)="setCreaturesSort(\'num_top_stats\')">Top</th>\r\n              <th style="cursor: pointer;" title="Sort by Gender" (click)="setCreaturesSort(\'gender\')">Gender</th>\r\n              <th style="cursor: pointer; text-align: center;" title="Sort by Health" (click)="setCreaturesSort(\'stat_health\')">HP</th>\r\n              <th style="cursor: pointer; text-align: center" title="Sort by Stamina" (click)="setCreaturesSort(\'stat_stamina\')">ST</th>\r\n              <th style="cursor: pointer; text-align: center" title="Sort by Oxygen" (click)="setCreaturesSort(\'stat_oxygen\')">OX</th>\r\n              <th style="cursor: pointer; text-align: center" title="Sort by Food" (click)="setCreaturesSort(\'stat_food\')">FO</th>\r\n              <th style="cursor: pointer; text-align: center" title="Sort by Weight" (click)="setCreaturesSort(\'stat_weight\')">WE</th>\r\n              <th style="cursor: pointer; text-align: center" title="Sort by Melee" (click)="setCreaturesSort(\'stat_melee\')">ME</th>\r\n              <th style="cursor: pointer; text-align: center" title="Sort by Speed" (click)="setCreaturesSort(\'stat_speed\')">SP</th>\r\n              \x3c!--<th></th>--\x3e\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'ids\')">\r\n              <th style="cursor: pointer;" title="Sort by ID1" (click)="setCreaturesSort(\'id1\')">ID1</th>\r\n              <th style="cursor: pointer;" title="Sort by ID2" (click)="setCreaturesSort(\'id2\')">ID2</th>\r\n            </ng-container>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngIf="!(filteredCreatures?.length > 0)"><td [colSpan]="(activeCreaturesMode(\'ids\') ? 6 : activeCreaturesMode(\'stats\') ? 14 : 12)">No matching creatures...</td></tr>\r\n          <tr *ngFor="let creature of filteredCreatures">\r\n            <td>{{creature.Name}}</td>\r\n            \x3c!--<td>{{creature.ClassName}}</td>--\x3e\r\n            <td>{{creature.Species || creature.ClassName}}</td>\r\n            \x3c!--<td>{{creature.Aliases}}</td>--\x3e\r\n            <ng-container *ngIf="!activeCreaturesMode(\'stats\')">\r\n              <td>{{creature.Gender}}</td>\r\n            </ng-container>\r\n            <td>{{creature.BaseLevel}}</td>\r\n            <td><span *ngIf="creature.BaseLevel != creature.Level">{{creature.Level}}</span></td>\r\n            <ng-container *ngIf="activeCreaturesMode(\'status\')">\r\n              <td>{{creature.Imprint | percent:\'1.0-0\'}}</td>\r\n              <td>\r\n                <div *ngIf="creature.FoodStatus != null" class="theme-lighter-c1-bg w3-round" style="width: 6em; position: relative;">\r\n                  <div style="position: absolute; left: 50%; transform: translate(-50%, 0%); color: white;">{{creature.FoodStatus | percent:\'1.0-0\'}}</div>\r\n                  <div class="theme-c1 w3-round" [style.width.%]="creature.FoodStatus * 100">&nbsp;</div>\r\n                </div>\r\n              </td>\r\n              <td>{{creature.Latitude | number:\'1.1-1\'}}</td>\r\n              <td>{{creature.Longitude | number:\'1.1-1\'}}</td>\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'status\') || activeCreaturesMode(\'stats\')">\r\n              <td>{{creature.InCryopod ? \'Yes\' : \'\'}}</td>\r\n              <td>\r\n                <span *ngIf="haveMatingCooldown(creature)">Next mating {{dataService.toRelativeDate(creature.NextMating)}}</span>\r\n                <span *ngIf="readyForMating(creature)">Ready for mating</span>\r\n                <div *ngIf="creature.BabyAge != null">\r\n                  <div>\r\n                    <div class="w3-cell w3-cell-middle">Baby</div>\r\n                    <div class="w3-cell w3-cell-middle">\r\n                      <div class="theme-lighter-c1-bg w3-round" style="width: 4em; position: relative; margin: 0em 0.5em;">\r\n                        <div style="position: absolute; left: 50%; transform: translate(-50%, 0%); color: white;">{{creature.BabyAge | percent:\'1.0-0\'}}</div>\r\n                        <div class="theme-c1 w3-round" [style.width.%]="creature.BabyAge * 100">&nbsp;</div>\r\n                      </div>\r\n                    </div>\r\n                    <div class="w3-cell">cuddle {{dataService.toRelativeDate(creature.BabyNextCuddle)}}</div>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'status\')">\r\n              <td>{{creature.OwnerType}}</td>\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'stats\')">\r\n              <td>{{numTopStats(creature)}}</td>\r\n              <td>{{creature.Gender}}</td>\r\n              <td class="stat-cell">\r\n                <div class="w3-round" style="position: relative;">\r\n                  <div class="stat-item" style="position: absolute; left: 50%; transform: translate(-50%, 0%);">{{creature.BaseStats?.Health}}</div>\r\n                  <div class="w3-round stat-item" style="width: 100%;" [style.backgroundColor]="getColorForSpeciesStat(creature, \'Health\')">&nbsp;</div>\r\n                </div>\r\n              </td>\r\n              <td class="stat-cell">\r\n                <div class="w3-round" style="position: relative;">\r\n                  <div class="stat-item" style="position: absolute; left: 50%; transform: translate(-50%, 0%);">{{creature.BaseStats?.Stamina}}</div>\r\n                  <div class="w3-round stat-item" style="width: 100%;" [style.backgroundColor]="getColorForSpeciesStat(creature, \'Stamina\')">&nbsp;</div>\r\n                </div>\r\n              </td>\r\n              <td class="stat-cell">\r\n                <div class="w3-round" style="position: relative;">\r\n                  <div class="stat-item" style="position: absolute; left: 50%; transform: translate(-50%, 0%);">{{creature.BaseStats?.Oxygen}}</div>\r\n                  <div class="w3-round stat-item" style="width: 100%;" [style.backgroundColor]="getColorForSpeciesStat(creature, \'Oxygen\')">&nbsp;</div>\r\n                </div>\r\n              </td>\r\n              <td class="stat-cell">\r\n                <div class="w3-round" style="position: relative;">\r\n                  <div class="stat-item" style="position: absolute; left: 50%; transform: translate(-50%, 0%);">{{creature.BaseStats?.Food}}</div>\r\n                  <div class="w3-round stat-item" style="width: 100%;" [style.backgroundColor]="getColorForSpeciesStat(creature, \'Food\')">&nbsp;</div>\r\n                </div>\r\n              </td>\r\n              <td class="stat-cell">\r\n                <div class="w3-round" style="position: relative;">\r\n                  <div class="stat-item" style="position: absolute; left: 50%; transform: translate(-50%, 0%);">{{creature.BaseStats?.Weight}}</div>\r\n                  <div class="w3-round stat-item" style="width: 100%;" [style.backgroundColor]="getColorForSpeciesStat(creature, \'Weight\')">&nbsp;</div>\r\n                </div>\r\n              </td>\r\n              <td class="stat-cell">\r\n                <div class="w3-round" style="position: relative;">\r\n                  <div class="stat-item" style="position: absolute; left: 50%; transform: translate(-50%, 0%);">{{creature.BaseStats?.Melee}}</div>\r\n                  <div class="w3-round stat-item" style="width: 100%;" [style.backgroundColor]="getColorForSpeciesStat(creature, \'Melee\')">&nbsp;</div>\r\n                </div>\r\n              </td>\r\n              <td class="stat-cell">\r\n                <div class="w3-round" style="position: relative;">\r\n                  <div class="stat-item" style="position: absolute; left: 50%; transform: translate(-50%, 0%);">{{creature.BaseStats?.MovementSpeed}}</div>\r\n                  <div class="w3-round stat-item" style="width: 100%;" [style.backgroundColor]="getColorForSpeciesStat(creature, \'MovementSpeed\')">&nbsp;</div>\r\n                </div>\r\n              </td>\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'ids\')">\r\n              <td>{{creature.Id1}}</td>\r\n              <td>{{creature.Id2}}</td>\r\n            </ng-container>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </ng-container>\r\n</section>\r\n<section *ngIf="isMenuActive(\'breeding\') &amp;&amp; player != undefined &amp;&amp; dataService.hasFeatureAccess(\'player\', \'breeding\', steamId)" class="w3-container">\r\n  <div class="w3-cell-row">\r\n    <div class="w3-cell"><a id="imprint_timers"></a><h2 class="theme-text-d1 w3-left">Breeding <span class="w3-tag w3-large theme-d1">{{imprintCreatures.length}}</span></h2></div>\r\n      <div class="w3-cell w3-cell-middle"><button class="w3-button w3-right" [ngClass]="{\'theme-d1\': imprintNotifications, \'theme-l2\': !imprintNotifications, \'theme-hover\': !imprintNotifications}" (click)="imprintNotifications = !imprintNotifications"><i *ngIf="imprintNotifications" class="material-icons" style="margin: -5px 5px -5px -5px; vertical-align: middle;">check</i>{{(imprintNotifications ? "Notifications Enabled" : "Enable Notifications")}}</button></div>\r\n  </div>\r\n  <div *ngIf="!(imprintCreatures?.length > 0)">There are no baby creatures...</div>\r\n  <div *ngIf="imprintCreatures?.length > 0" class="w3-card-4 w3-responsive">\r\n    <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Name</th>\r\n          <th>Species</th>\r\n          <th>Gender</th>\r\n          <th>Base Level</th>\r\n          <th>Imprint</th>\r\n          <th>Progress</th>\r\n          <th>Fully Grown At</th>\r\n          <th>Next Imprint</th>\r\n          <th *ngIf="imprintNotifications"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let creature of imprintCreatures; let index = index" [ngClass]="{\'even\': index % 2 == 1}">\r\n          <td>{{creature.Name}}</td>\r\n          <td>{{creature.Species}}</td>\r\n          <td>{{creature.Gender}}</td>\r\n          <td>{{creature.BaseLevel}}</td>\r\n          <td>{{creature.Imprint | percent:\'1.0-0\'}}</td>\r\n          <td>\r\n            <div class="theme-lighter-c1-bg w3-round" style="width: 6em; position: relative;">\r\n              <div style="position: absolute; left: 50%; transform: translate(-50%, 0%); color: white;">{{creature.BabyAge | percent:\'1.0-0\'}}</div>\r\n              <div class="theme-c1 w3-round" [style.width.%]="creature.BabyAge * 100">&nbsp;</div>\r\n            </div>\r\n          </td>\r\n          <td>{{dataService.toDate(creature.BabyFullyGrown)}}</td>\r\n          <td><timer [time]="creature.BabyNextCuddle" [notification]="imprintNotifications" [state]="getStateForCreature(creature)"></timer></td>\r\n          <td *ngIf="imprintNotifications"><input style="top: 0;" class="w3-check w3-right" type="checkbox" [checked]="getStateForCreature(creature).imprintNotifications" (change)="toggleImprintNotificationForCreature(creature)" /></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  \x3c!--<p *ngIf="getCurrentServer() != undefined" class="w3-small">\r\n    Last Update {{getCurrentServer().LastUpdate}}, Next Update {{getCurrentServer().NextUpdate || \'-\'}}\r\n  </p>--\x3e\r\n</section>\r\n<section *ngIf="isMenuActive(\'kibbles_and_eggs\') &amp;&amp; player?.Servers[serverKey] &amp;&amp; dataService.hasFeatureAccess(\'player\', \'kibbles-eggs\', steamId)" class="w3-container">\r\n  <div class="w3-cell-row">\r\n    <div class="w3-cell"><a id="kibblesandeggs"></a><h2 class="theme-text-d1 w3-left">Kibbles and Eggs <span class="w3-tag w3-large theme-d1">{{sumKibbleAndEggs() | number:0.0-0}}</span></h2></div>\r\n  </div>\r\n  <div *ngIf="!(player.Servers[serverKey].KibblesAndEggs?.length > 0)">There are no kibbles or eggs...</div>\r\n  <div *ngIf="player.Servers[serverKey].KibblesAndEggs?.length > 0" class="w3-card-4 w3-responsive">\r\n    <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Name</th>\r\n          <th>Kibbles</th>\r\n          <th>Eggs</th>\r\n          <th>Total</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let ke of player.Servers[serverKey].KibblesAndEggs">\r\n          <td>{{ke.Name}}</td>\r\n          <td>{{ke.KibbleCount}}</td>\r\n          <td>{{ke.EggCount}}</td>\r\n          <td>{{ke.KibbleCount + ke.EggCount}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'creatures_cloud\') &amp;&amp; haveCluster()" class="w3-container">\r\n  <h2 class="theme-text-d1">Clusters</h2>\r\n  <div *ngIf="player?.Clusters" class="w3-bar theme-l2 w3-card-4">\r\n    <button *ngFor="let cluster of keysGetter(player?.Clusters)" href="#" class="w3-bar-item w3-button w3-mobile" [ngClass]="{\'theme-d1\': activeCluster(cluster)}" [style.width.%]="clusterWidth()" (click)="activateCluster(cluster)">{{cluster}}</button>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'creatures_cloud\') &amp;&amp; !haveCluster() &amp;&amp; dataService.hasFeatureAccess(\'player\', \'creatures-cloud\', steamId)" class="w3-container">\r\n  <div class="w3-cell-row">\r\n    <div class="w3-cell"><h2 class="theme-text-d1 w3-left">Creatures</h2></div>\r\n  </div>\r\n  <div>There are no creatures in the cloud...</div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'creatures_cloud\') &amp;&amp; haveCluster() &amp;&amp; dataService.hasFeatureAccess(\'player\', \'creatures-cloud\', steamId)" class="w3-container">\r\n  <div class="w3-cell-row">\r\n    <div class="w3-cell"><h2 class="theme-text-d1 w3-left">Creatures <span class="w3-tag w3-large theme-d1">{{filteredClusterCreatures.length}}</span></h2></div>\r\n  </div>\r\n  <div *ngIf="!(player.Clusters[clusterKey]?.Creatures?.length > 0)">There are no creatures in the cloud...</div>\r\n  <div *ngIf="player.Clusters[clusterKey]?.Creatures?.length > 0" class="inner-addon right-addon">\r\n    <i *ngIf="creaturesClusterFilter != null &amp;&amp; creaturesClusterFilter != \'\'" class="material-icons" style="cursor: pointer;" (click)="creaturesClusterFilter = \'\'; filterCluster();">close</i>\r\n    <input [ngModel]="creaturesClusterFilter" (ngModelChange)="creaturesClusterFilter = $event; filterCluster();" class="w3-input w3-border w3-round-xlarge w3-large w3-margin-bottom border-theme theme-l1" placeholder="Filter" />\r\n  </div>\r\n  <div *ngIf="player.Clusters[clusterKey]?.Creatures?.length > 0" class="w3-card-4 w3-responsive">\r\n    <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Name</th>\r\n          <th>Species</th>\r\n          <th>Level</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngIf="!(filteredClusterCreatures?.length > 0)"><td colspan="3">No matching creatures...</td></tr>\r\n        <tr *ngFor="let creature of filteredClusterCreatures">\r\n          <td>{{creature.Name}}</td>\r\n          <td>{{creature.Species}}</td>\r\n          <td>{{creature.Level}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'crop_plots\') &amp;&amp; player?.Servers[serverKey] &amp;&amp; dataService.hasFeatureAccess(\'player\', \'crops\', steamId)" class="w3-container">\r\n  <div class="w3-cell-row">\r\n    <div class="w3-cell"><a id="cropplots"></a><h2 class="theme-text-d1 w3-left">Crops</h2></div>\r\n  </div>\r\n  <div *ngIf="!(player.Servers[serverKey].CropPlots?.length > 0)">There are no crops...</div>\r\n  <div *ngIf="player.Servers[serverKey].CropPlots?.length > 0" class="w3-card-4 w3-responsive">\r\n    <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Crop</th>\r\n          <th>Size</th>\r\n          <th>Fertilizer %</th>\r\n          <th>Fertilizer Units</th>\r\n          <th>Water</th>\r\n          <th>Lat</th>\r\n          <th>Lng</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let cp of player.Servers[serverKey].CropPlots">\r\n          <td>{{(cp.PlantedCropName || cp.PlantedCropClassName)}}</td>\r\n          <td>{{cp.Size}}</td>\r\n          <td>\r\n            <div class="theme-lighter-c1-bg w3-round" style="width: 6em; position: relative;">\r\n              <div style="position: absolute; left: 50%; transform: translate(-50%, 0%); color: white;">{{(cp.FertilizerQuantity / cp.FertilizerMax) | percent:\'1.0-0\'}}</div>\r\n              <div class="theme-c1 w3-round" [style.width.%]="(cp.FertilizerQuantity / cp.FertilizerMax) * 100">&nbsp;</div>\r\n            </div>\r\n          </td>\r\n          <td>{{cp.FertilizerQuantity | number}}</td>\r\n          <td>{{cp.WaterAmount | number:\'1.0-0\'}}</td>\r\n          <td>{{cp.Latitude | number:\'1.1-1\'}}</td>\r\n          <td>{{cp.Longitude | number:\'1.1-1\'}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'electrical_generators\') &amp;&amp; player?.Servers[serverKey] &amp;&amp; dataService.hasFeatureAccess(\'player\', \'generators\', steamId)" class="w3-container">\r\n  <div class="w3-cell-row">\r\n    <div class="w3-cell"><a id="electricalgenerators"></a><h2 class="theme-text-d1 w3-left">Electrical Generators</h2></div>\r\n  </div>\r\n  <div *ngIf="!(player.Servers[serverKey].ElectricalGenerators?.length > 0)">There are no electrical generators...</div>\r\n  <div *ngIf="player.Servers[serverKey].ElectricalGenerators?.length > 0" class="w3-card-4 w3-responsive">\r\n    <table class="w3-table-all border-theme">\r\n      <thead>\r\n        <tr class="theme-d1">\r\n          <th>Gasoline %</th>\r\n          <th>Gasoline Quantity</th>\r\n          <th>Activated</th>\r\n          <th>Lat</th>\r\n          <th>Lng</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor="let eg of player.Servers[serverKey].ElectricalGenerators">\r\n          <td>\r\n            <div *ngIf="eg.Activated == true" class="theme-lighter-c1-bg w3-round" style="width: 6em; position: relative;">\r\n              <div style="position: absolute; left: 50%; transform: translate(-50%, 0%); color: white;">{{(eg.GasolineQuantity / 800.0) | percent:\'1.0-0\'}}</div>\r\n              <div class="theme-c1 w3-round" [style.width.%]="(eg.GasolineQuantity / 800.0) * 100">&nbsp;</div>\r\n            </div>\r\n          </td>\r\n          <td>{{eg.GasolineQuantity | number}}</td>\r\n          <td>{{(eg.Activated == true ? "Yes" : "No")}}</td>\r\n          <td>{{eg.Latitude | number:\'1.1-1\'}}</td>\r\n          <td>{{eg.Longitude | number:\'1.1-1\'}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</section>\r\n<section *ngIf="isMenuActive(\'tribelog\') &amp;&amp; player?.Servers[serverKey] &amp;&amp; dataService.hasFeatureAccess(\'player\', \'tribelog\', steamId)" class="w3-container">\r\n    <div class="w3-cell-row">\r\n      <div class="w3-cell"><a id="tribelog"></a><h2 class="theme-text-d1 w3-left">Tribe Log</h2></div>\r\n    </div>\r\n    <div *ngIf="!(player.Servers[serverKey].TribeLog?.length > 0)">There are no tribe logs...</div>\r\n    <ng-container *ngIf="player.Servers[serverKey].TribeLog?.length > 0">\r\n      <div class="inner-addon right-addon">\r\n          <i *ngIf="tribeLogFilter != null &amp;&amp; tribeLogFilter != \'\'" class="material-icons" style="cursor: pointer;" (click)="tribeLogFilter = \'\';">close</i>\r\n          <input [ngModel]="tribeLogFilter" (ngModelChange)="tribeLogFilter = $event;" class="w3-input w3-border w3-round-xlarge w3-large w3-margin-bottom border-theme theme-l1" placeholder="Filter" />\r\n      </div>\r\n      <ark-data-table [rows]="player.Servers[serverKey].TribeLog" [filter]="tribeLogFilter" [filterFunction]="tribeLogFilterFunction">\r\n        <ark-dt-mode name="Default" key="default" columnKeys="day,time,message"></ark-dt-mode>\r\n        <ark-dt-column key="day">\r\n          <ng-template ark-dt-header>\r\n            Day\r\n          </ng-template>\r\n          <ng-template let-log ark-dt-cell>\r\n              {{log.Day}}\r\n          </ng-template>\r\n        </ark-dt-column>\r\n        <ark-dt-column key="time">\r\n          <ng-template ark-dt-header>\r\n            Time\r\n          </ng-template>\r\n          <ng-template let-log ark-dt-cell>\r\n              {{log.Time}}\r\n          </ng-template>\r\n        </ark-dt-column>\r\n        <ark-dt-column key="message">\r\n          <ng-template ark-dt-header>\r\n            Message\r\n          </ng-template>\r\n          <ng-template let-log ark-dt-cell>\r\n              <span [outerHTML]="log.Message | sanitizeHtml"></span>\r\n          </ng-template>\r\n        </ark-dt-column>\r\n      </ark-data-table>\r\n    </ng-container>\r\n  </section>\r\n<div id="modal_map" class="w3-modal" [style.display]="showMap ? \'block\' : \'none\'">\r\n  <div class="w3-modal-content w3-card-4 w3-animate-zoom" (clickOutside)="closeMap($event)" style="font-size: 0;">\r\n  <header class="w3-container theme-d1"> \r\n    <span (click)="showMap = false" class="w3-button theme-d1 w3-xlarge w3-display-topright">&times;</span>\r\n    <h2>Map</h2>\r\n  </header>\r\n  <arkmap [mapName]="player?.MapNames[serverKey]" [points]="points"></arkmap>\r\n  </div>\r\n</div>'},jWPz:function(e,t,r){"use strict";var n=r("3j3K");r.d(t,"c",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return c});var i=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.template=e}return e}();a=i([r.i(n.Directive)({selector:"[ark-dt-cell]"}),s("design:paramtypes",["function"==typeof(l=void 0!==n.TemplateRef&&n.TemplateRef)&&l||Object])],a);var o=function(){function e(e){this.template=e}return e}();o=i([r.i(n.Directive)({selector:"[ark-dt-header]"}),s("design:paramtypes",["function"==typeof(d=void 0!==n.TemplateRef&&n.TemplateRef)&&d||Object])],o);var c=function(){function e(){}return e}();i([r.i(n.Input)(),r.i(n.ContentChild)(a,{read:n.TemplateRef}),s("design:type","function"==typeof(u=void 0!==n.TemplateRef&&n.TemplateRef)&&u||Object)],c.prototype,"cellTemplate",void 0),i([r.i(n.Input)(),r.i(n.ContentChild)(o,{read:n.TemplateRef}),s("design:type","function"==typeof(p=void 0!==n.TemplateRef&&n.TemplateRef)&&p||Object)],c.prototype,"headerTemplate",void 0),i([r.i(n.Input)(),s("design:type",String)],c.prototype,"mode",void 0),i([r.i(n.Input)(),s("design:type",String)],c.prototype,"key",void 0),i([r.i(n.Input)(),s("design:type",String)],c.prototype,"thenSort",void 0),i([r.i(n.Input)(),s("design:type",String)],c.prototype,"title",void 0),i([r.i(n.Input)(),s("design:type",Boolean)],c.prototype,"orderBy",void 0),c=i([r.i(n.Directive)({selector:"ark-dt-column"})],c);var l,d,u,p},jkBB:function(e,t){e.exports='<div *ngIf="(numEnabledModes | async) > 1" class="w3-bar theme-l2 w3-card-4 w3-margin-bottom">\r\n  <ng-container *ngFor="let mode of _modes; trackBy: trackByKey">\r\n    <button *ngIf="mode.enabled | async" href="#" class="w3-bar-item w3-button w3-mobile" [ngClass]="{\'theme-d1\': isCurrentMode(mode.key)}" [style.width.%]="(100/(numEnabledModes | async))" (click)="setCurrentMode(mode.key)">{{mode.name}}</button>\r\n  </ng-container>\r\n</div>\r\n<div class="w3-card-4 w3-responsive">\r\n  <table class="w3-table-all border-theme">\r\n    <thead>\r\n      <tr class="theme-d1">\r\n        <ng-container *ngFor="let column of _columnTemplates; trackBy: trackByKey">\r\n          <th *ngIf="showColumn(column.key)" (click)="orderBy(column.key, $event)" title="{{column.title}}" [ngClass]="{\'orderBy\': column.orderBy}">\r\n            <ng-template\r\n              *ngIf="column.headerTemplate"\r\n              [ngTemplateOutlet]="column.headerTemplate">\r\n            </ng-template>\r\n          </th>\r\n        </ng-container>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngIf="(_rows$ | async)?.length == 0">\r\n        <td [colSpan]="currentModeEnabledColumnCount()">No matching entries...</td>\r\n      </tr>\r\n      <tr *ngFor="let row of _rows$ | async | slice:_fromRow:_fromRow+_numRows;  trackBy: trackByRow">\r\n        <ng-container *ngFor="let column of _columnTemplates; trackBy: trackByKey">\r\n          <td *ngIf="showColumn(column.key)">\r\n            <ng-template\r\n              *ngIf="column.cellTemplate"\r\n              [ngTemplateOutlet]="column.cellTemplate"\r\n              [ngTemplateOutletContext]="{$implicit: row}">\r\n            </ng-template>\r\n          </td>\r\n        </ng-container>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n<div class="w3-cell-row w3-margin-top">\r\n  <div class="w3-cell w3-cell-middle">\r\n    <table class="w3-responsive w3-right w3-small">\r\n      <tr>\r\n        <td>\r\n          <div class="w3-bar w3-border border-theme">\r\n            <a (click)="setFirstPage()" [ngClass]="{\'disabled\': isFirstPage()}" class="w3-button w3-border-right border-theme"></a>\r\n            <a (click)="setPrevPage()" [ngClass]="{\'disabled\': isFirstPage()}" class="w3-button device-tiny-show"></a>\r\n            <a (click)="setPrevPage()" [ngClass]="{\'disabled\': isFirstPage()}" class="w3-button w3-border-right border-theme device-tiny-hide"></a>\r\n            <span class="device-tiny-hide">&nbsp;{{_fromRow}} - {{getLastRowOffset()}} of {{_totalRows}}&nbsp;</span>\r\n            <a (click)="setLastPage()" [ngClass]="{\'disabled\': isLastPage()}" class="w3-button w3-border-left border-theme w3-right"></a>\r\n            <a (click)="setNextPage()" [ngClass]="{\'disabled\': isLastPage()}" class="w3-button w3-border-left border-theme w3-right"></a>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <select [ngModel]="_numRows" (ngModelChange)="setViewLimit($event)" class="w3-select w3-border border-theme theme-l1" style="max-width: 200px; padding: 12px 5px;">\r\n            <option *ngFor="let opt of _viewOptions" [value]="opt.value">{{opt.text}}</option>\r\n          </select>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n</div>'},joX7:function(e,t,r){"use strict";var n=r("3j3K"),i=r("Gvdl");r.n(i);r.d(t,"a",function(){return o});var s=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(){function e(){this.enabled=i.Observable.of(!0)}return Object.defineProperty(e.prototype,"columnKeys",{set:function(e){this._columnKeys=e,this.ColumnKeys=this._columnKeys.split(",")},enumerable:!0,configurable:!0}),e}();s([r.i(n.Input)(),a("design:type",String)],o.prototype,"key",void 0),s([r.i(n.Input)(),a("design:type",String)],o.prototype,"name",void 0),s([r.i(n.Input)(),a("design:type","function"==typeof(c=void 0!==i.Observable&&i.Observable)&&c||Object)],o.prototype,"enabled",void 0),s([r.i(n.Input)(),a("design:type",String),a("design:paramtypes",[String])],o.prototype,"columnKeys",null),o=s([r.i(n.Directive)({selector:"ark-dt-mode"})],o);var c},kZql:function(e,t,r){"use strict";var n=r("EM12");r.d(t,"a",function(){return i});var i={production:!0,demo:!1,demoDate:null,configJsOverride:null,configJsDefault:n.a.configJs,apiBaseUrl:"<protocol>//<hostname>:<webapi_port>/api",signalrBaseUrl:"<protocol>//<hostname>:<webapi_port>/signalr"}},lCrv:function(e,t,r){"use strict";var n=r("3j3K"),i=r("Gvdl"),s=(r.n(i),r("ATz5")),a=r("lHWG"),o=r("kZql"),c=r("vwbq"),l=r("PJh5");r.n(l);r.d(t,"a",function(){return p});var d=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,r){this.dataService=e,this.httpService=t,this.zone=r,this._structures=new i.BehaviorSubject(void 0),this.keysGetter=Object.keys,this.ownerSortField="locations",this.ownerSortFunctions={locations:function(e,t){return e.AreaCount>t.AreaCount?-1:e.AreaCount<t.AreaCount?1:e.StructureCount>t.StructureCount?-1:e.StructureCount<t.StructureCount?1:0},structures:function(e,t){return e.StructureCount>t.StructureCount?-1:e.StructureCount<t.StructureCount?1:0},lastactive:function(e,t){return e.LastActiveTime<t.LastActiveTime||void 0==e.LastActiveTime?-1:e.LastActiveTime>t.LastActiveTime||void 0==t.LastActiveTime?1:0}},this.width=1024,this.height=1024,this.zoom=c.a().scaleExtent([1,8])}return Object.defineProperty(e.prototype,"structures",{get:function(){return this._structures.getValue()},set:function(e){this._structures.next(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._structuresSubscription=this._structures.subscribe(function(t){return e.update(t)});var t=this.mapContainer.nativeElement;this.map={},this.map.canvas=c.b(t).append("canvas").attr("width",1024).attr("height",1024).node().getContext("2d"),this.map.svg=c.b(t).append("svg").attr("viewBox","0 0 1024 1024").attr("preserveAspectRatio","xMidYMid").append("g").on("contextmenu",function(e,t){c.c.preventDefault()}),this.map.svg.append("rect").attr("class","overlay").attr("width",1024).attr("height",1024),this.map.x=c.d().domain([0,1024]).range([0,1024]),this.map.y=c.d().domain([0,1024]).range([0,1024]),c.b(t).call(this.zoom.on("zoom",function(){e.hideContextMenu(),e.redraw()})).on("wheel.zoom",null),this.structures&&this.updateMap()},e.prototype.ngOnDestroy=function(){this._structuresSubscription.unsubscribe()},e.prototype.zoomIn=function(){this.zoom.scaleBy(c.b(this.mapContainer.nativeElement),1.2)},e.prototype.zoomOut=function(){this.zoom.scaleBy(c.b(this.mapContainer.nativeElement),.8)},e.prototype.updateSelection=function(){var e=this;this.map.svg.circle.attr("display",function(t){var r=e.structures.Owners[t.OwnerId];return t.Removed||r.Removed||e.selectedOwner&&(!e.selectedOwner||e.selectedOwner.Id!=t.OwnerId)?"none":"block"}),this.redraw()},e.prototype.update=function(e){this.sortOwners(e),this.map&&this.updateMap()},e.prototype.sortOwners=function(e){var t=this.ownerSortFunctions[this.ownerSortField];if(e){var r=e.Owners.slice();r.sort(t),this.ownersSorted=r}else this.ownersSorted=void 0},e.prototype.updateMap=function(){var e=this;this.map.svg.nodes=this.structures.Areas,this.map.svg.draw=function(){e.map.svg.circle=e.map.svg.selectAll("circle").data(e.map.svg.nodes).enter().append("circle").attr("r",function(e){return e.RadiusPx<2?2:e.RadiusPx}).attr("fill","transparent").attr("stroke",function(t){var r=e.structures.Owners[t.OwnerId];return!!r.LastActiveTime&&l(new Date(r.LastActiveTime)).isSameOrAfter(l().subtract(28,"day"))&&(t.StructureCount>=100||t.TrashQuota<.5&&t.StructureCount>=10)?"magenta":"red"}).attr("stroke-width",function(t){var r=e.structures.Owners[t.OwnerId];return!!r.LastActiveTime&&l(new Date(r.LastActiveTime)).isSameOrAfter(l().subtract(28,"day"))&&(t.StructureCount>=100||t.TrashQuota<.5&&t.StructureCount>=10)?3:2}).attr("transform",e.map.svg.transform),e.map.svg.circle.on("click",function(t){c.c.preventDefault();var r={};r.x=c.c.pageX,r.y=c.c.pageY,e.showAreaModal(t,r)}),e.map.svg.circle.append("svg:title").text(function(t){var r=e.structures.Owners[t.OwnerId],n=r.LastActiveTime?l(new Date(r.LastActiveTime)).fromNow():null;return r.Name+": "+t.StructureCount+" structures\nCoords: "+t.Latitude+", "+t.Longitude+"\n"+(n?"Last active: "+n+"\n":"")+"---\n"+t.Structures.map(function(t){var r=e.structures.Types[t.t];return t.c+": "+(r?r.Name:t.t)}).join("\n")})},this.map.svg.draw(),this.map.svg.transform=function(t){return"translate("+e.map.x(t.TopoMapX)+","+e.map.y(t.TopoMapY)+")"},this.map.svg.circle.attr("transform",this.map.svg.transform)},e.prototype.imageLoaded=function(e){var t=this;this.img=e,this.width=e?e.naturalWidth:1024,this.height=e?e.naturalHeight:1024,window.setTimeout(function(){t.resize(),t.redraw()},100)},e.prototype.resize=function(){},e.prototype.redraw=function(){var e=this,t=c.e(this.mapContainer.nativeElement);this.map.svg.attr("transform","translate("+t.x+","+t.y+") scale("+t.k+")"),t.k!=this.prevTransformK&&this.map.svg.circle.attr("stroke-width",function(r){var n=e.structures.Owners[r.OwnerId];return(!!n.LastActiveTime&&l(new Date(n.LastActiveTime)).isSameOrAfter(l().subtract(28,"day"))&&(r.StructureCount>=100||r.TrashQuota<.5&&r.StructureCount>=10)?3:2)/t.k});var r=this.map.canvas;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,1024,1024),r.translate(t.x,t.y),r.scale(t.k,t.k),this.img&&r.drawImage(this.img,0,0),this.prevTransformK=t.k},e.prototype.ngOnChanges=function(e){var t=this;if(null!=this.mapName){var r=new Image;r.onload=function(){return t.imageLoaded(r)},r.onerror=function(){return t.imageLoaded(void 0)},r.src=o.a.demo?"assets/demo/Ragnarok.jpg":this.getApiBaseUrl()+"/map/"+this.mapName,r.complete&&(r.onload=null,r.onerror=null,this.imageLoaded(r))}},e.prototype.getApiBaseUrl=function(){return o.a.apiBaseUrl.replace(/\<protocol\>/gi,window.location.protocol).replace(/\<hostname\>/gi,window.location.hostname).replace(/\<webapi_port\>/gi,"undefined"!=typeof config?config.webapi.port:"")},e.prototype.reset=function(){this.selectedOwner=void 0,this.updateSelection()},e.prototype.setSelectedOwner=function(e){this.selectedOwner=e,this.updateSelection()},e.prototype.setOwnerSort=function(e){this.ownerSortField=e,this.sortOwners(this.structures)},e.prototype.showAreaModal=function(e,t){this.currentArea=e,this.currentOwner=this.structures.Owners[e.OwnerId],c.b(this.contextMenu.nativeElement).style("display","block"),c.c&&c.c.stopPropagation()},e.prototype.showOwnerModal=function(e,t){this.currentOwner=t,c.b(this.contextMenu.nativeElement).style("display","block"),e.stopPropagation()},e.prototype.showInfoModal=function(e,t){var r={};r.Header=e,r.Message=t,this.modalInfo=r,c.b(this.contextMenu.nativeElement).style("display","block"),c.c&&c.c.stopPropagation()},e.prototype.hideContextMenu=function(){c.b(this.contextMenu.nativeElement).style("display","none"),this.currentArea=void 0,this.currentOwner=void 0,this.modalInfo=void 0},e.prototype.destroyCurrentArea=function(e){var t=this;this.httpService.adminDestroyStructuresForTeamIdAtPosition(this.serverKey,this.currentOwner.OwnerId,this.currentArea.X,this.currentArea.Y,+this.currentArea.RadiusUu+1e3,1).then(function(e){t.currentArea.Removed=!0,t.currentOwner.AreaCount-=1,t.currentOwner.StructureCount-=t.currentArea.StructureCount,t.hideContextMenu(),t.showInfoModal("Action Successfull!",e.Message),t.updateSelection()}).catch(function(e){t.hideContextMenu();var r=e&&e._body?JSON.parse(e._body):void 0;t.showInfoModal("Action Failed...",r?r.Message:e.statusText)})},e.prototype.destroyAllStructuresForTeam=function(e){var t=this;this.httpService.adminDestroyAllStructuresForTeamId(this.serverKey,this.currentOwner.OwnerId).then(function(e){t.currentOwner.Removed=!0,t.currentOwner.AreaCount=0,t.currentOwner.StructureCount=0,t.hideContextMenu(),t.showInfoModal("Action Successfull!",e.Message),t.updateSelection()}).catch(function(e){t.hideContextMenu();var r=e&&e._body?JSON.parse(e._body):void 0;t.showInfoModal("Action Failed...",r?r.Message:e.statusText)})},e.prototype.destroyDinosForTeam=function(e){var t=this;this.httpService.adminDestroyDinosForTeamId(this.serverKey,this.currentOwner.OwnerId).then(function(e){t.currentOwner.CreatureCount=0,t.hideContextMenu(),t.showInfoModal("Action Successfull!",e.Message),t.updateSelection()}).catch(function(e){t.hideContextMenu();var r=e&&e._body?JSON.parse(e._body):void 0;t.showInfoModal("Action Failed...",r?r.Message:e.statusText)})},e.prototype.saveWorld=function(e){var t=this;this.httpService.adminSaveWorld(this.serverKey).then(function(e){t.hideContextMenu(),t.showInfoModal("Action Successfull!",e.Message)}).catch(function(e){t.hideContextMenu();var r=e&&e._body?JSON.parse(e._body):void 0;t.showInfoModal("Action Failed...",r?r.Message:e.statusText)})},e}();d([r.i(n.Input)(),u("design:type",Object),u("design:paramtypes",[Object])],p.prototype,"structures",null),d([r.i(n.Input)(),u("design:type",String)],p.prototype,"serverKey",void 0),d([r.i(n.Input)(),u("design:type",String)],p.prototype,"mapName",void 0),d([r.i(n.ViewChild)("map"),u("design:type","function"==typeof(h=void 0!==n.ElementRef&&n.ElementRef)&&h||Object)],p.prototype,"mapContainer",void 0),d([r.i(n.ViewChild)("contextMenu"),u("design:type","function"==typeof(m=void 0!==n.ElementRef&&n.ElementRef)&&m||Object)],p.prototype,"contextMenu",void 0),p=d([r.i(n.Component)({selector:"arkmap-structures",template:r("QMiF"),styles:[r("fT+k")],encapsulation:n.ViewEncapsulation.None}),u("design:paramtypes",["function"==typeof(f=void 0!==s.a&&s.a)&&f||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(g=void 0!==n.NgZone&&n.NgZone)&&g||Object])],p);var h,m,f,v,g},lHWG:function(e,t,r){"use strict";var n=r("3j3K"),i=r("Fzro"),s=r("eErF"),a=(r.n(s),r("kZql"));r.d(t,"a",function(){return l});var o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e){this.http=e,this.headers=new i.c({"Content-Type":"application/json"}),this.serversUrl="/servers",this.serverUrl="/server",this.wildCreaturesUrl="/wildcreatures",this.structuresUrl="/structures",this.adminServerUrl="/adminserver",this.administerUrl="/administer",this.playerUrl="/player"}return e.prototype.getOptions=function(){var e="true"==localStorage.getItem("demoMode"),t=new i.d({withCredentials:!0});return e&&(t.headers||(t.headers=new i.c),t.headers.append("demoMode","true")),t},e.prototype.getServers=function(){return this.http.get(""+this.getApiBaseUrl()+this.serversUrl+"?t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getServer=function(e){return this.http.get(""+this.getApiBaseUrl()+this.serverUrl+"/"+e+"?t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getWildCreatures=function(e){return this.http.get(""+this.getApiBaseUrl()+this.wildCreaturesUrl+"/"+e+"?t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getStructures=function(e){return this.http.get(""+this.getApiBaseUrl()+this.structuresUrl+"/"+e+"?t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getPlayer=function(e){return this.http.get(""+this.getApiBaseUrl()+this.playerUrl+"/"+e+"?t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getAdminServer=function(e){return this.http.get(""+this.getApiBaseUrl()+this.adminServerUrl+"/"+e+"?t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.adminDestroyAllStructuresForTeamId=function(e,t){return this.http.get(""+this.getApiBaseUrl()+this.administerUrl+"/DestroyAllStructuresForTeamId/"+e+"?teamId="+t+"&t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.adminDestroyStructuresForTeamIdAtPosition=function(e,t,r,n,i,s){return this.http.get(""+this.getApiBaseUrl()+this.administerUrl+"/DestroyStructuresForTeamIdAtPosition/"+e+"?teamId="+t+"&x="+r+"&y="+n+"&radius="+i+"&rafts="+s+"&t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.adminDestroyDinosForTeamId=function(e,t){return this.http.get(""+this.getApiBaseUrl()+this.administerUrl+"/DestroyDinosForTeamId/"+e+"?teamId="+t+"&t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.adminSaveWorld=function(e){return this.http.get(""+this.getApiBaseUrl()+this.administerUrl+"/SaveWorld/"+e+"?t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.adminListFertilizedEggs=function(e){return this.http.get(""+this.getApiBaseUrl()+this.administerUrl+"/DroppedEggsList/"+e+"?t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.adminDestroyAllEggs=function(e){return this.http.get(""+this.getApiBaseUrl()+this.administerUrl+"/DestroyAllEggs/"+e+"?t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.adminDestroySpoiledEggs=function(e){return this.http.get(""+this.getApiBaseUrl()+this.administerUrl+"/DestroySpoiledEggs/"+e+"?t="+ +new Date,this.getOptions()).toPromise().then(function(e){return e.json()}).catch(this.handleError)},e.prototype.getApiBaseUrl=function(){return a.a.apiBaseUrl.replace(/\<protocol\>/gi,window.location.protocol).replace(/\<hostname\>/gi,window.location.hostname).replace(/\<webapi_port\>/gi,"undefined"!=typeof config?config.webapi.port:"")},e.prototype.handleError=function(e){return Promise.reject(e.message||e)},e}();l=o([r.i(n.Injectable)(),c("design:paramtypes",["function"==typeof(d=void 0!==i.b&&i.b)&&d||Object])],l);var d},lRu1:function(e,t){e.exports='<section class="w3-container">\n    <div class="w3-panel w3-red">\n      <h3>Connection error</h3>\n      <p>The application was unable to connect to the Web API. This could be due to a configuration error...</p>\n    </div> \n  </section>'},m8aW:function(e,t){e.exports='<div id="menu" class="w3-sidebar theme-l2" style="min-height: 52px;"> \r\n  <h2 class="logo"></h2>\r\n  <button id="menubtn" class="w3-button w3-xlarge w3-display-topright" (click)="toggleMenu()"></button>\r\n  <section id="menucontent" class="w3-container"  [ngClass]="{\'hide\': !menuVisible}">\r\n    <ng-content></ng-content>\r\n  </section>\r\n</div>'},mf93:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},ne8d:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},oLRk:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},okgc:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},qn86:function(e,t,r){"use strict";var n=r("3j3K"),i=r("5oXY"),s=r("3MNG"),a=(r.n(s),r("PJh5")),o=(r.n(a),r("ATz5")),c=r("+Lwu"),l=r("lHWG"),d=r("+rAa");r.d(t,"a",function(){return h});var u=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,n,i,s,a,o){this.route=e,this.router=t,this.httpService=n,this.dataService=i,this.messageService=s,this.notificationsService=a,this.ref=o,this.menuOption=void 0,this.loaded=!1,this.creaturesLoaded=!1,this.keysGetter=Object.keys,this.showMap=!1,this.creaturesMode="status",this.creaturesSortField="base_level",this.creaturesAltSortFields="base_level,gender",this.creaturesSortFunctions={gender:function(e,t,n){return r.i(d.b)(e.Gender,t.Gender,n)},base_level:function(e,t,n){return r.i(d.c)(e.BaseLevel,t.BaseLevel,!n)},tameable:function(e,t,n){return r.i(d.c)(e.IsTameable,t.IsTameable,!n)},latitude:function(e,t,n){return r.i(d.d)(e.Latitude,t.Latitude,n,1)},longitude:function(e,t,n){return r.i(d.d)(e.Longitude,t.Longitude,n,1)},x:function(e,t,n){return r.i(d.d)(e.X,t.X,n,0)},y:function(e,t,n){return r.i(d.d)(e.Y,t.Y,n,0)},z:function(e,t,n){return r.i(d.d)(e.Z,t.Z,n,0)},stat_health:function(e,t,n){return r.i(d.c)(void 0!=e.BaseStats?e.BaseStats.Health:null,void 0!=t.BaseStats?t.BaseStats.Health:null,!n)},stat_stamina:function(e,t,n){return r.i(d.c)(void 0!=e.BaseStats?e.BaseStats.Stamina:null,void 0!=t.BaseStats?t.BaseStats.Stamina:null,!n)},stat_oxygen:function(e,t,n){return r.i(d.c)(void 0!=e.BaseStats?e.BaseStats.Oxygen:null,void 0!=t.BaseStats?t.BaseStats.Oxygen:null,!n)},stat_food:function(e,t,n){return r.i(d.c)(void 0!=e.BaseStats?e.BaseStats.Food:null,void 0!=t.BaseStats?t.BaseStats.Food:null,!n)},stat_weight:function(e,t,n){return r.i(d.c)(void 0!=e.BaseStats?e.BaseStats.Weight:null,void 0!=t.BaseStats?t.BaseStats.Weight:null,!n)},stat_melee:function(e,t,n){return r.i(d.c)(void 0!=e.BaseStats?e.BaseStats.Melee:null,void 0!=t.BaseStats?t.BaseStats.Melee:null,!n)},stat_speed:function(e,t,n){return r.i(d.c)(void 0!=e.BaseStats?e.BaseStats.MovementSpeed:null,void 0!=t.BaseStats?t.BaseStats.MovementSpeed:null,!n)},id1:function(e,t,n){return r.i(d.c)(e.Id1,t.Id1,n)},id2:function(e,t,n){return r.i(d.c)(e.Id1,t.Id1,n)}},this.playerSortFunctions={character_name:function(e,t,n){return r.i(d.b)(e.CharacterName,t.CharacterName,n)},tribe_name:function(e,t,n){return r.i(d.b)(e.TribeName,t.TribeName,n)},last_active:function(e,t,n){return r.i(d.c)(e.LastActiveTime,t.LastActiveTime,!n)}},this.tribeSortFunctions={tribe_name:function(e,t,n){return r.i(d.b)(e.Name,t.Name,n)},last_active:function(e,t,n){return r.i(d.c)(e.LastActiveTime,t.LastActiveTime,!n)}},this.wildStatisticsSortFunctions={species:function(e,t,n){return r.i(d.b)(e.Name,t.Name,n)},class_name:function(e,t,n){return r.i(d.b)(e.ClassName,t.ClassName,n)},count:function(e,t,n){return r.i(d.c)(e.Count,t.Count,!n)},fraction:function(e,t,n){return r.i(d.d)(e.Fraction,t.Fraction,!n,4)}}}return e.prototype.getServer=function(){var e=this;this.httpService.getServer(this.serverKey).then(function(t){e.server=t,e.filter(),e.loaded=!0}).catch(function(t){e.server=null,e.filteredPlayers=null,e.filteredTribes=null,e.loaded=!0})},e.prototype.getWildCreatures=function(){var e=this;this.httpService.getWildCreatures(this.serverKey).then(function(t){e.wild=t,e.species=Object.keys(e.wild.Species).sort(function(t,n){return r.i(d.b)(e.wild.Species[t].Name||t,e.wild.Species[n].Name||n,!0)}),e.selectedSpecies&&void 0!=e.species.find(function(t){return t==e.selectedSpecies})||(e.selectedSpecies=e.species.length>0?e.species[0]:null),e.filterAndSortWild(),e.creaturesLoaded=!0,e.ref.detectChanges()}).catch(function(t){e.wild=null,e.species=null,e.filteredCreatures=null,e.creaturesLoaded=!0})},e.prototype.ngOnInit=function(){var e=this;this.accessControl_pages_player=this.dataService.hasFeatureAccessObservable("pages","player"),this.serverKey=this.route.snapshot.params.id,this.menuOptionSubscription=this.dataService.MenuOption.subscribe(function(t){e.menuOption=t,0!=e.creaturesLoaded||"wildcreatures"!=e.menuOption&&"wildcreatures-statistics"!=e.menuOption||e.getWildCreatures()}),this.serverUpdatedSubscription=this.messageService.serverUpdated$.subscribe(function(t){e.serverKey==t&&(e.updateServer(),e.showServerUpdateNotification(t))}),this.getServer()},e.prototype.ngOnDestroy=function(){this.menuOptionSubscription.unsubscribe(),this.serverUpdatedSubscription.unsubscribe()},e.prototype.filter=function(){var e=this.dataService.getCurrentDate(),t=e.subtract(90,"day");this.filteredPlayers=this.server.Players.filter(function(e){return a(new Date(e.LastActiveTime)).isSameOrAfter(t)}),this.filteredTribes=this.server.Tribes.filter(function(e){return a(new Date(e.LastActiveTime)).isSameOrAfter(t)})},e.prototype.sortWild=function(){var e=this,t="-"!=this.creaturesSortField[0],r=this.creaturesSortFunctions[this.creaturesSortField.replace(/^\-/,"")],n=this.creaturesAltSortFields.split(",").map(function(t){var r={};return r.asc="-"!=t[0],r.sortFunc=e.creaturesSortFunctions[t.replace(/^\-/,"")],r});void 0!=this.filteredCreatures&&this.filteredCreatures.sort(function(e,i){var s=r(e,i,t);if(0==s)for(var a=0,o=n;a<o.length;a++){var c=o[a];if(0!=(s=c.sortFunc(e,i,c.asc)))break}return s})},e.prototype.filterWild=function(){this.selectedSpecies?this.filteredCreatures=this.wild.Species[this.selectedSpecies].Creatures:this.filteredCreatures=void 0;var e=[];if(void 0!=this.filteredCreatures)for(var t=0,r=this.filteredCreatures;t<r.length;t++){var n=r[t],i={};i.x=n.TopoMapX,i.y=n.TopoMapY,e.push(i)}this.points=e},e.prototype.filterAndSortWild=function(){this.filterWild(),this.sortWild()},e.prototype.openMap=function(e){this.showMap=!0,e.stopPropagation()},e.prototype.closeMap=function(e){this.showMap=!1},e.prototype.activeCreaturesMode=function(e){return e==this.creaturesMode},e.prototype.activateCreaturesMode=function(e){this.creaturesMode=e},e.prototype.setCreaturesSort=function(e){var t=this.creaturesSortField==e;this.creaturesSortField=t?"-"+e:e,this.creaturesAltSortFields="latitude"==e?t?"-longitude":"longitude":"longitude"==e?t?"-latitude":"latitude":"base_level,gender",this.sortWild()},e.prototype.numCreatureTabs=function(){var e=1;return this.dataService.hasFeatureAccess("server","wildcreatures-basestats")&&(e+=1),this.dataService.hasFeatureAccess("server","wildcreatures-ids")&&(e+=1),e},e.prototype.toRelativeDate=function(e){return a(new Date(e)).fromNow()},e.prototype.getTribeMember=function(e){return this.server.Players.find(function(t){return t.SteamId==e})},e.prototype.updateServer=function(){this.getServer()},e.prototype.showServerUpdateNotification=function(e){this.notificationsService.success("Server Update",e+" was updated; Reloading data...",{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0})},e.prototype.isMenuActive=function(e){return this.menuOption==e},e}();h=u([r.i(n.Component)({selector:"app-server",template:r("xEL3"),styles:[r("bKAj")]}),p("design:paramtypes",["function"==typeof(m=void 0!==i.g&&i.g)&&m||Object,"function"==typeof(f=void 0!==i.b&&i.b)&&f||Object,"function"==typeof(v=void 0!==l.a&&l.a)&&v||Object,"function"==typeof(g=void 0!==o.a&&o.a)&&g||Object,"function"==typeof(y=void 0!==c.a&&c.a)&&y||Object,"function"==typeof(b=void 0!==s.NotificationsService&&s.NotificationsService)&&b||Object,"function"==typeof(w=void 0!==n.ChangeDetectorRef&&n.ChangeDetectorRef)&&w||Object])],h);var m,f,v,g,y,b,w},r5VE:function(e,t,r){"use strict";var n=r("3j3K"),i=r("Qbdm"),s=r("rCTf"),a=(r.n(s),r("2Je8"));r.d(t,"a",function(){return u});var o=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},u=function(){function e(e,t){this.doc=e,this.eventManager=t,this.hotkeys=new Map,this.defaults={element:this.doc}}return e.prototype.add=function(e){var t=this,r=o({},this.defaults,e),n="keydown."+r.keys;return r.description&&this.hotkeys.set(r.keys,r.description),new s.Observable(function(e){var i=function(t){t.preventDefault(),e.next(t)},s=t.eventManager.addEventListener(r.element,n,i);return function(){s(),t.hotkeys.delete(r.keys)}})},e}();u=c([r.i(n.Injectable)(),d(0,r.i(n.Inject)(a.DOCUMENT)),l("design:paramtypes",[Object,"function"==typeof(p=void 0!==i.EventManager&&i.EventManager)&&p||Object])],u);var p},rHbN:function(e,t){e.exports='<app-menu #menu>\r\n  <h2 class="menu-header theme-text-d1">Servers</h2>\r\n  <div class="menu-items w3-cell-row theme-l2">\r\n    <div class="w3-button w3-cell w3-mobile" [ngClass]="{\'theme-d1\': menu.active(\'overview\')}" (click)="menu.activate(\'overview\')">Overview</div>\r\n    <ng-container *ngIf="dataService.Servers != undefined &amp;&amp; dataService.hasFeatureAccess(\'home\', \'serverdetails\')">\r\n      <div *ngFor="let server of dataService.Servers.Servers" class="w3-button w3-cell w3-mobile" [ngClass]="{\'theme-d1\': menu.active(server.Key)}" (click)="menu.activate(server.Key)">{{server.Key}}</div>\r\n    </ng-container>\r\n  </div>\r\n</app-menu>'},rZY4:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"tr th.orderBy{cursor:pointer}a.w3-button.disabled{color:#a9a9a9}a.w3-button.disabled:hover{color:#a9a9a9!important;background-color:transparent!important;opacity:1!important;cursor:default}",""]),e.exports=e.exports.toString()},uslO:function(e,t,r){function n(e){return r(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id="uslO"},vMp4:function(e,t,r){"use strict";var n=r("3j3K"),i=r("3MNG"),s=(r.n(i),r("2Je8")),a=r("ATz5"),o=r("+rAa");r.d(t,"a",function(){return u});var c=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},u=function(){function e(e,t,r){this.doc=e,this.notificationsService=t,this.dataService=r,this._show=!1,this._hoverHide=!1,this._isInitialized=!1,this.customTheme=[],this.customThemeGroups=[{key:"dark",name:"Dark Theme",theme:[]},{key:"light",name:"Light Theme",theme:[]}],this.currentCustomThemeGroup=this.customThemeGroups[0]}return e.prototype.toHexColor=function(e){var t=this.doc.createElement("div");t.style.display="none",t.style.color=e;var r=window.getComputedStyle(this.doc.body.appendChild(t)).color.match(/\d+/g).map(function(e){return parseInt(e,10)});return this.doc.body.removeChild(t),r.length<3?(console.log("Could not convert color '"+e+"' to hex"),e):"#"+((1<<24)+(r[0]<<16)+(r[1]<<8)+r[2]).toString(16).substr(1)},e.prototype.show=function(){this._isInitialized||this.init(),this._show=!0},e.prototype.init=function(){this._isInitialized=!0;for(var e=[],t=0,r=this.customThemeGroups;t<r.length;t++){var n=r[t];n.theme=[{name:"--"+n.key+"-theme-bg",title:"Background"},{name:"--"+n.key+"-theme",title:"Foreground"},{name:"--"+n.key+"-theme-l1-bg",title:"Low Contrast #1 (background)"},{name:"--"+n.key+"-theme-l1",title:"Low Contrast #1 (text)"},{name:"--"+n.key+"-theme-l2-bg",title:"Low Contrast #2 (background)"},{name:"--"+n.key+"-theme-l2",title:"Low Contrast #2 (text)"},{name:"--"+n.key+"-theme-text-d1",title:"High Contrast (text)"},{name:"--"+n.key+"-theme-text-c1",title:"Colored (text)"},{name:"--"+n.key+"-theme-d1-bg",title:"High Contrast (background)"},{name:"--"+n.key+"-theme-d1",title:"High Contrast (text)"},{name:"--"+n.key+"-theme-c1-bg",title:"Colored (background)"},{name:"--"+n.key+"-theme-c1",title:"Colored (text)"},{name:"--"+n.key+"-theme-e1-bg",title:"Error (background)"},{name:"--"+n.key+"-theme-e1",title:"Error (text)"},{name:"--"+n.key+"-theme-l2-even-bg",title:"Low Contrast #2 (background) [even-rows]"},{name:"--"+n.key+"-theme-l2-even",title:"Low Contrast #2 (text) [even-rows]"},{name:"--"+n.key+"-theme-l1-hover-bg",title:"Low Contrast #1 (background) [hover]"},{name:"--"+n.key+"-theme-l1-hover",title:"Low Contrast #1 (text) [hover]"},{name:"--"+n.key+"-theme-l2-hover-bg",title:"Low Contrast #2 (background) [hover]"},{name:"--"+n.key+"-theme-l2-hover",title:"Low Contrast #2 (text) [hover]"},{name:"--"+n.key+"-theme-lighter-c1-bg",title:"High Contrast (background) [lighter]"},{name:"--"+n.key+"-theme-text-l1-light",title:"Low Contrast #1 (text) [inactive]"},{name:"--"+n.key+"-border-theme",title:"Border"},{name:"--"+n.key+"-divider-theme",title:"Divider"}],e=e.concat(n.theme)}this.customTheme=e;for(var i=getComputedStyle(this.doc.documentElement),s=0,a=this.customTheme;s<a.length;s++){var o=a[s];o.default=o.value=this.toHexColor(i.getPropertyValue(o.name).toString().trim())}this.current=this.customTheme[0]},e.prototype.setCurrent=function(e){this.current=e,this.colorPicker.nativeElement.dispatchEvent(new MouseEvent("click"))},e.prototype.update=function(e){this.current.value=e,this.doc.querySelector(":root").style.setProperty(this.current.name,this.current.value)},e.prototype.copyStyles=function(){for(var e=":root {\r\n",t=0,n=this.customTheme;t<n.length;t++){var i=n[t];i.value!==i.default&&(e+="    "+i.name+": "+i.value+";\r\n")}e+="}",r.i(o.a)(this.doc,e),this.notificationsService.info("Create Custom Theme","Custom theme styles have been copied to the clipboard.",{pauseOnHover:!0,clickToClose:!0})},e}();c([r.i(n.ViewChild)("colorPicker"),l("design:type",Object)],u.prototype,"colorPicker",void 0),u=c([r.i(n.Component)({selector:"custom-theme",template:r("A+2f"),styles:[r("eqcJ")]}),d(0,r.i(n.Inject)(s.DOCUMENT)),l("design:paramtypes",[Object,"function"==typeof(p=void 0!==i.NotificationsService&&i.NotificationsService)&&p||Object,"function"==typeof(h=void 0!==a.a&&a.a)&&h||Object])],u);var p,h},x35b:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("3j3K"),i=r("O61y"),s=r("Iksp");r("kZql").a.production&&r.i(n.enableProdMode)(),r.i(i.a)().bootstrapModule(s.a)},xEL3:function(e,t){e.exports='<section *ngIf="loaded == false || ((isMenuActive(\'wildcreatures\') || isMenuActive(\'wildcreatures-statistics\')) &amp;&amp; creaturesLoaded == false)" class="w3-container">\r\n  <div class="w3-panel theme-l2">\r\n    <h3 class="theme-text-l1-light">Loading...</h3>\r\n  </div> \r\n</section>\r\n<section *ngIf="loaded == true &amp;&amp; server == null" class="w3-container">\r\n  <div class="w3-panel w3-red">\r\n    <h3>Error!</h3>\r\n    <p>No data could be loaded for the given server key.</p>\r\n  </div> \r\n</section>\r\n<section *ngIf="isMenuActive(\'players\') &amp;&amp; server &amp;&amp; dataService.hasFeatureAccess(\'server\', \'players\')" class="w3-container">\r\n  <h2 class="theme-text-d1">Players</h2>\r\n  <ark-data-table [rows]="filteredPlayers" trackByProp="Id" [sortFunctions]="playerSortFunctions" orderByColumn="last_active">\r\n    <ark-dt-mode name="Default" key="default" columnKeys="character_name,tribe_name,last_active"></ark-dt-mode>\r\n    <ark-dt-column key="character_name" [orderBy]="true" title="Sort by Character Name" thenSort="last_active">\r\n      <ng-template ark-dt-header>\r\n        Character Name\r\n      </ng-template>\r\n      <ng-template let-player ark-dt-cell>\r\n        <a *ngIf="dataService.hasFeatureAccessObservable(\'pages\', \'player\', player.SteamId) | async; else player_no_link" [routerLink]="\'/player/\' + player.SteamId">{{player.CharacterName}}</a><ng-template #player_no_link>{{player.CharacterName}}</ng-template>\r\n      </ng-template>\r\n    </ark-dt-column>\r\n    <ark-dt-column key="tribe_name" [orderBy]="true" title="Sort by Tribe Name" thenSort="character_name">\r\n      <ng-template ark-dt-header>\r\n        Tribe Name\r\n      </ng-template>\r\n      <ng-template let-player ark-dt-cell>\r\n        {{player.TribeName}}\r\n      </ng-template>\r\n    </ark-dt-column>\r\n    <ark-dt-column key="last_active" [orderBy]="true" title="Sort by Last Active" thenSort="character_name">\r\n      <ng-template ark-dt-header>\r\n        Last Active\r\n      </ng-template>\r\n      <ng-template let-player ark-dt-cell>\r\n        <relative-time [time]="player.LastActiveTime"></relative-time>\r\n      </ng-template>\r\n    </ark-dt-column>\r\n  </ark-data-table>\r\n</section>\r\n<section *ngIf="isMenuActive(\'tribes\') &amp;&amp; server &amp;&amp; dataService.hasFeatureAccess(\'server\', \'tribes\')" class="w3-container">\r\n  <h2 class="theme-text-d1">Tribes</h2>\r\n  <ark-data-table [rows]="filteredTribes" trackByProp="Id" [sortFunctions]="tribeSortFunctions" orderByColumn="last_active">\r\n    <ark-dt-mode name="Default" key="default" columnKeys="tribe_name,members,last_active"></ark-dt-mode>\r\n    <ark-dt-column key="tribe_name" [orderBy]="true" title="Sort by Tribe Name" thenSort="last_active">\r\n      <ng-template ark-dt-header>\r\n        Tribe Name\r\n      </ng-template>\r\n      <ng-template let-tribe ark-dt-cell>\r\n          {{tribe.Name}}\r\n      </ng-template>\r\n    </ark-dt-column>\r\n    <ark-dt-column key="members">\r\n      <ng-template ark-dt-header>\r\n        Members\r\n      </ng-template>\r\n      <ng-template let-tribe ark-dt-cell>\r\n          <span *ngFor="let member of tribe.MemberSteamIds; let last = last"><a *ngIf="dataService.hasFeatureAccess(\'pages\', \'player\', member); else tribe_member_no_link" [routerLink]="\'/player/\' + member">{{getTribeMember(member)?.CharacterName || member}}</a><ng-template #tribe_member_no_link>{{getTribeMember(member)?.CharacterName || member}}</ng-template><span *ngIf="!last">, </span></span>\r\n      </ng-template>\r\n    </ark-dt-column>\r\n    <ark-dt-column key="last_active" [orderBy]="true" title="Sort by Last Active" thenSort="tribe_name">\r\n      <ng-template ark-dt-header>\r\n        Last Active\r\n      </ng-template>\r\n      <ng-template let-tribe ark-dt-cell>\r\n        <relative-time [time]="tribe.LastActiveTime"></relative-time>\r\n      </ng-template>\r\n    </ark-dt-column>\r\n  </ark-data-table>\r\n</section>\r\n<section *ngIf="isMenuActive(\'wildcreatures-statistics\') &amp;&amp; creaturesLoaded &amp;&amp; dataService.hasFeatureAccess(\'server\', \'wildcreatures-statistics\')" class="w3-container">\r\n    <h2 class="theme-text-d1">Wild Statistics <span class="w3-tag w3-large theme-d1">{{(wild.Statistics.Species?.length || 0) | number}}</span></h2>\r\n    <ark-data-table [rows]="wild.Statistics.Species" trackByProp="ClassName" [sortFunctions]="wildStatisticsSortFunctions" orderByColumn="species">\r\n        <ark-dt-mode name="Default" key="default" columnKeys="species,class_name,aliases,count,fraction"></ark-dt-mode>\r\n        <ark-dt-column key="species" [orderBy]="true" title="Sort by Species" thenSort="count">\r\n          <ng-template ark-dt-header>\r\n            Species\r\n          </ng-template>\r\n          <ng-template let-species ark-dt-cell>\r\n            {{species.Name}}\r\n          </ng-template>\r\n        </ark-dt-column>\r\n        <ark-dt-column key="class_name" [orderBy]="true" title="Sort by Class Name" thenSort="count">\r\n          <ng-template ark-dt-header>\r\n            Class Name\r\n          </ng-template>\r\n          <ng-template let-species ark-dt-cell>\r\n            {{species.ClassName}}\r\n          </ng-template>\r\n        </ark-dt-column>\r\n        <ark-dt-column key="aliases">\r\n          <ng-template ark-dt-header>\r\n            Aliases\r\n          </ng-template>\r\n          <ng-template let-species ark-dt-cell>\r\n            {{species.Aliases.length > 0 ? species.Aliases.join(\', \') : \'\'}}\r\n          </ng-template>\r\n        </ark-dt-column>\r\n        <ark-dt-column key="count" [orderBy]="true" title="Sort by Count" thenSort="species">\r\n          <ng-template ark-dt-header>\r\n            Count\r\n          </ng-template>\r\n          <ng-template let-species ark-dt-cell>\r\n            {{species.Count | number}}\r\n          </ng-template>\r\n        </ark-dt-column>\r\n        <ark-dt-column key="fraction" [orderBy]="true" title="Sort by Fraction" thenSort="species">\r\n          <ng-template ark-dt-header>\r\n            Fraction\r\n          </ng-template>\r\n          <ng-template let-species ark-dt-cell>\r\n            {{species.Fraction | percent:\'1.0-4\'}}\r\n          </ng-template>\r\n        </ark-dt-column>\r\n      </ark-data-table>\r\n</section>\r\n<section *ngIf="isMenuActive(\'wildcreatures\') &amp;&amp; creaturesLoaded &amp;&amp; dataService.hasFeatureAccess(\'server\', \'wildcreatures\')" class="w3-container">\r\n  <div class="w3-cell-row">\r\n    <div class="w3-cell"><a id="creatures"></a><h2 class="theme-text-d1 w3-left">Wild Creatures <span class="w3-tag w3-large theme-d1">{{(filteredCreatures?.length || 0) | number}}</span>&nbsp;/&nbsp;<span class="w3-tag w3-large theme-d1">{{(wild?.Statistics?.CreatureCount || 0) | number}}</span></h2></div>\r\n    <div *ngIf="dataService.hasFeatureAccess(\'server\', \'wildcreatures-coords\')" class="w3-cell w3-cell-middle"><button class="w3-button theme-d1 w3-right" (click)="openMap($event)">Show Map</button></div>\r\n  </div>\r\n  <div *ngIf="!(species?.length > 0)">There are no creatures...</div>\r\n  <ng-container *ngIf="species?.length > 0">\r\n    <select [ngModel]="selectedSpecies" (ngModelChange)="selectedSpecies = $event; filterAndSortWild();" class="w3-select w3-border w3-round-xlarge w3-large w3-margin-bottom border-theme theme-l1" style="padding: 8px;">\r\n        <option *ngFor="let s of species" [value]="s">{{wild.Species[s].Name || s}}</option>\r\n      </select>\r\n    \x3c!--<div class="inner-addon right-addon">\r\n      <i *ngIf="creaturesFilter != null &amp;&amp; creaturesFilter != \'\'" class="material-icons" style="cursor: pointer;" (click)="creaturesFilter = \'\'; filterAndSortWild();">close</i>\r\n      <input [ngModel]="creaturesFilter" (ngModelChange)="creaturesFilter = $event; filterAndSortWild();" class="w3-input w3-border w3-round-xlarge w3-large w3-margin-bottom border-theme theme-l1" placeholder="Filter" />\r\n    </div>--\x3e\r\n    <div *ngIf="numCreatureTabs() > 1" class="w3-bar theme-l2 w3-card-4 w3-margin-bottom">\r\n      <button href="#" class="w3-bar-item w3-button w3-mobile" [ngClass]="{\'theme-d1\': activeCreaturesMode(\'status\')}" [style.width.%]="(100/numCreatureTabs())" (click)="activateCreaturesMode(\'status\')">Overview</button>\r\n      <button *ngIf="dataService.hasFeatureAccess(\'server\', \'wildcreatures-basestats\')" href="#" class="w3-bar-item w3-button w3-mobile" [ngClass]="{\'theme-d1\': activeCreaturesMode(\'stats\')}" [style.width.%]="(100/numCreatureTabs())" (click)="activateCreaturesMode(\'stats\')">Base Stats</button>\r\n      <button *ngIf="dataService.hasFeatureAccess(\'server\', \'wildcreatures-ids\')" href="#" class="w3-bar-item w3-button w3-mobile" [ngClass]="{\'theme-d1\': activeCreaturesMode(\'ids\')}" [style.width.%]="(100/numCreatureTabs())" (click)="activateCreaturesMode(\'ids\')">IDs</button>\r\n    </div>\r\n    <div class="w3-card-4 w3-responsive">\r\n      <table class="w3-table-all border-theme">\r\n        <thead>\r\n          <tr class="theme-d1">\r\n            <th style="cursor: pointer;" title="Sort by Gender" (click)="setCreaturesSort(\'gender\')">Gender</th>\r\n            <th style="cursor: pointer;" title="Sort by Base Level" (click)="setCreaturesSort(\'base_level\')">Base Level</th>\r\n            <th style="cursor: pointer;" title="Sort by Tameable" (click)="setCreaturesSort(\'tameable\')">Tameable</th>\r\n            <ng-container *ngIf="activeCreaturesMode(\'status\') && dataService.hasFeatureAccess(\'server\', \'wildcreatures-coords\')">\r\n              <th style="cursor: pointer;" title="Sort by X" (click)="setCreaturesSort(\'x\')">X</th>\r\n              <th style="cursor: pointer;" title="Sort by Y" (click)="setCreaturesSort(\'y\')">Y</th>\r\n              <th style="cursor: pointer;" title="Sort by Z" (click)="setCreaturesSort(\'z\')">Z</th>\r\n              <th style="cursor: pointer;" title="Sort by Latitude" (click)="setCreaturesSort(\'latitude\')">Lat</th>\r\n              <th style="cursor: pointer;" title="Sort by Longitude" (click)="setCreaturesSort(\'longitude\')">Lng</th>\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'stats\')">\r\n              <th style="cursor: pointer;" title="Sort by Health" (click)="setCreaturesSort(\'stat_health\')">HP</th>\r\n              <th style="cursor: pointer;" title="Sort by Stamina" (click)="setCreaturesSort(\'stat_stamina\')">ST</th>\r\n              <th style="cursor: pointer;" title="Sort by Oxygen" (click)="setCreaturesSort(\'stat_oxygen\')">OX</th>\r\n              <th style="cursor: pointer;" title="Sort by Food" (click)="setCreaturesSort(\'stat_food\')">FO</th>\r\n              <th style="cursor: pointer;" title="Sort by Weight" (click)="setCreaturesSort(\'stat_weight\')">WE</th>\r\n              <th style="cursor: pointer;" title="Sort by Melee" (click)="setCreaturesSort(\'stat_melee\')">ME</th>\r\n              <th style="cursor: pointer;" title="Sort by Speed" (click)="setCreaturesSort(\'stat_speed\')">SP</th>\r\n              \x3c!--<th></th>--\x3e\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'ids\')">\r\n              <th style="cursor: pointer;" title="Sort by ID1" (click)="setCreaturesSort(\'id1\')">ID1</th>\r\n              <th style="cursor: pointer;" title="Sort by ID2" (click)="setCreaturesSort(\'id2\')">ID2</th>\r\n            </ng-container>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngIf="!(filteredCreatures?.length > 0)"><td [colSpan]="activeCreaturesMode(\'status\') ? 8 : (activeCreaturesMode(\'stats\') ? 10 : 5)">No matching creatures...</td></tr>\r\n          <tr *ngFor="let creature of filteredCreatures">\r\n            <td>{{creature.Gender}}</td>\r\n            <td>{{creature.BaseLevel}}</td>\r\n            <td>{{(wild.Species[selectedSpecies].IsTameable &amp;&amp; creature.IsTameable == true ? "Yes" : "No")}}</td>\r\n            <ng-container *ngIf="activeCreaturesMode(\'status\') && dataService.hasFeatureAccess(\'server\', \'wildcreatures-coords\')">\r\n              <td>{{creature.X}}</td>\r\n              <td>{{creature.Y}}</td>\r\n              <td>{{creature.Z}}</td>\r\n              <td>{{creature.Latitude | number:\'1.1-1\'}}</td>\r\n              <td>{{creature.Longitude | number:\'1.1-1\'}}</td>\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'stats\')">\r\n              <td>{{creature.BaseStats?.Health}}</td>\r\n              <td>{{creature.BaseStats?.Stamina}}</td>\r\n              <td>{{creature.BaseStats?.Oxygen}}</td>\r\n              <td>{{creature.BaseStats?.Food}}</td>\r\n              <td>{{creature.BaseStats?.Weight}}</td>\r\n              <td>{{creature.BaseStats?.Melee}}</td>\r\n              <td>{{creature.BaseStats?.MovementSpeed}}</td>\r\n              \x3c!--<td><i class="material-icons w3-medium" style="cursor: pointer;" (click)="copyCreature(creature)">content_copy</i></td>--\x3e\r\n            </ng-container>\r\n            <ng-container *ngIf="activeCreaturesMode(\'ids\')">\r\n              <td>{{creature.Id1}}</td>\r\n              <td>{{creature.Id2}}</td>\r\n            </ng-container>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </ng-container>\r\n</section>\r\n<div id="modal_map" class="w3-modal" [style.display]="showMap ? \'block\' : \'none\'">\r\n    <div class="w3-modal-content w3-card-4 w3-animate-zoom" (clickOutside)="closeMap($event)" style="font-size: 0;">\r\n    <header class="w3-container theme-d1"> \r\n      <span (click)="showMap = false" class="w3-button theme-d1 w3-xlarge w3-display-topright">&times;</span>\r\n      <h2>Map</h2>\r\n    </header>\r\n    <arkmap [mapName]="server?.MapName" [points]="points"></arkmap>\r\n    </div>\r\n  </div>'}},[0]);